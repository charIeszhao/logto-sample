{
  "version": 3,
  "sources": ["../../map-obj/index.js", "../../camelcase/index.js", "../../quick-lru/index.js", "../../camelcase-keys/index.js", "../../@logto/js/lib/consts/openid.js", "../../@logto/js/lib/consts/index.js", "../../@logto/js/lib/core/fetch-token.js", "../../@logto/js/lib/core/oidc-config.js", "../../@logto/js/lib/core/revoke.js", "../../@logto/js/lib/utils/scopes.js", "../../@logto/js/lib/core/sign-in.js", "../../@logto/js/lib/core/sign-out.js", "../../@logto/js/lib/core/user-info.js", "../../@silverhand/essentials/lib/utilities/array.js", "../../@silverhand/essentials/lib/utilities/assertions.js", "../../@silverhand/essentials/lib/utilities/conditional.js", "../../@silverhand/essentials/lib/utilities/function.js", "../../@silverhand/essentials/lib/utilities/string.js", "../../@logto/js/lib/utils/arbitrary-object.js", "../../@logto/js/lib/utils/errors.js", "../../@logto/js/lib/utils/callback-uri.js", "../../@logto/js/lib/utils/id-token.js", "../../@logto/js/lib/utils/access-token.js", "../../jose/dist/browser/runtime/webcrypto.js", "../../jose/dist/browser/lib/buffer_utils.js", "../../jose/dist/browser/runtime/base64url.js", "../../jose/dist/browser/util/errors.js", "../../jose/dist/browser/runtime/random.js", "../../jose/dist/browser/lib/crypto_key.js", "../../jose/dist/browser/lib/invalid_key_input.js", "../../jose/dist/browser/runtime/is_key_like.js", "../../jose/dist/browser/lib/is_disjoint.js", "../../jose/dist/browser/lib/is_object.js", "../../jose/dist/browser/runtime/check_key_length.js", "../../jose/dist/browser/lib/is_jwk.js", "../../jose/dist/browser/runtime/jwk_to_key.js", "../../jose/dist/browser/runtime/normalize_key.js", "../../jose/dist/browser/key/import.js", "../../jose/dist/browser/lib/check_key_type.js", "../../jose/dist/browser/lib/validate_crit.js", "../../jose/dist/browser/lib/validate_algorithms.js", "../../jose/dist/browser/lib/private_symbols.js", "../../jose/dist/browser/runtime/subtle_dsa.js", "../../jose/dist/browser/runtime/get_sign_verify_key.js", "../../jose/dist/browser/runtime/verify.js", "../../jose/dist/browser/jws/flattened/verify.js", "../../jose/dist/browser/jws/compact/verify.js", "../../jose/dist/browser/lib/epoch.js", "../../jose/dist/browser/lib/secs.js", "../../jose/dist/browser/lib/jwt_claims_set.js", "../../jose/dist/browser/jwt/verify.js", "../../jose/dist/browser/jwks/local.js", "../../jose/dist/browser/runtime/fetch_jwks.js", "../../jose/dist/browser/jwks/remote.js", "../../jose/dist/browser/util/base64url.js", "../../@logto/client/lib/adapter/defaults.js", "../../@logto/client/lib/adapter/types.js", "../../@logto/client/lib/adapter/index.js", "../../@logto/client/lib/errors.js", "../../@logto/client/lib/types/index.js", "../../@logto/client/lib/utils/index.js", "../../@logto/client/lib/utils/memoize.js", "../../@logto/client/lib/utils/once.js", "../../@logto/client/lib/client.js", "../../@logto/client/lib/utils/requester.js", "../../@logto/client/lib/index.js", "../../@logto/browser/lib/cache.js", "../../@logto/browser/lib/storage.js", "../../js-base64/base64.mjs", "../../@logto/browser/lib/utils/generators.js", "../../@logto/browser/lib/index.js", "../../@logto/react/lib/provider.js", "../../@logto/react/lib/context.js", "../../@logto/react/lib/hooks/index.js"],
  "sourcesContent": ["const isObject = value => typeof value === 'object' && value !== null;\n\n// Customized for this use-case\nconst isObjectCustom = value =>\n\tisObject(value)\n\t&& !(value instanceof RegExp)\n\t&& !(value instanceof Error)\n\t&& !(value instanceof Date);\n\nexport const mapObjectSkip = Symbol('mapObjectSkip');\n\nconst _mapObject = (object, mapper, options, isSeen = new WeakMap()) => {\n\toptions = {\n\t\tdeep: false,\n\t\ttarget: {},\n\t\t...options,\n\t};\n\n\tif (isSeen.has(object)) {\n\t\treturn isSeen.get(object);\n\t}\n\n\tisSeen.set(object, options.target);\n\n\tconst {target} = options;\n\tdelete options.target;\n\n\tconst mapArray = array => array.map(element => isObjectCustom(element) ? _mapObject(element, mapper, options, isSeen) : element);\n\tif (Array.isArray(object)) {\n\t\treturn mapArray(object);\n\t}\n\n\tfor (const [key, value] of Object.entries(object)) {\n\t\tconst mapResult = mapper(key, value, object);\n\n\t\tif (mapResult === mapObjectSkip) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [newKey, newValue, {shouldRecurse = true} = {}] = mapResult;\n\n\t\t// Drop `__proto__` keys.\n\t\tif (newKey === '__proto__') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (options.deep && shouldRecurse && isObjectCustom(newValue)) {\n\t\t\tnewValue = Array.isArray(newValue)\n\t\t\t\t? mapArray(newValue)\n\t\t\t\t: _mapObject(newValue, mapper, options, isSeen);\n\t\t}\n\n\t\ttarget[newKey] = newValue;\n\t}\n\n\treturn target;\n};\n\nexport default function mapObject(object, mapper, options) {\n\tif (!isObject(object)) {\n\t\tthrow new TypeError(`Expected an object, got \\`${object}\\` (${typeof object})`);\n\t}\n\n\treturn _mapObject(object, mapper, options);\n}\n", "const UPPERCASE = /[\\p{Lu}]/u;\nconst LOWERCASE = /[\\p{Ll}]/u;\nconst LEADING_CAPITAL = /^[\\p{Lu}](?![\\p{Lu}])/gu;\nconst IDENTIFIER = /([\\p{Alpha}\\p{N}_]|$)/u;\nconst SEPARATORS = /[_.\\- ]+/;\n\nconst LEADING_SEPARATORS = new RegExp('^' + SEPARATORS.source);\nconst SEPARATORS_AND_IDENTIFIER = new RegExp(SEPARATORS.source + IDENTIFIER.source, 'gu');\nconst NUMBERS_AND_IDENTIFIER = new RegExp('\\\\d+' + IDENTIFIER.source, 'gu');\n\nconst preserveCamelCase = (string, toLowerCase, toUpperCase, preserveConsecutiveUppercase) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\tlet isLastLastCharPreserved = false;\n\n\tfor (let index = 0; index < string.length; index++) {\n\t\tconst character = string[index];\n\t\tisLastLastCharPreserved = index > 2 ? string[index - 3] === '-' : true;\n\n\t\tif (isLastCharLower && UPPERCASE.test(character)) {\n\t\t\tstring = string.slice(0, index) + '-' + string.slice(index);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\tindex++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && LOWERCASE.test(character) && (!isLastLastCharPreserved || preserveConsecutiveUppercase)) {\n\t\t\tstring = string.slice(0, index - 1) + '-' + string.slice(index - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = toLowerCase(character) === character && toUpperCase(character) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = toUpperCase(character) === character && toLowerCase(character) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = (input, toLowerCase) => {\n\tLEADING_CAPITAL.lastIndex = 0;\n\n\treturn input.replaceAll(LEADING_CAPITAL, match => toLowerCase(match));\n};\n\nconst postProcess = (input, toUpperCase) => {\n\tSEPARATORS_AND_IDENTIFIER.lastIndex = 0;\n\tNUMBERS_AND_IDENTIFIER.lastIndex = 0;\n\n\treturn input\n\t\t.replaceAll(NUMBERS_AND_IDENTIFIER, (match, pattern, offset) => ['_', '-'].includes(input.charAt(offset + match.length)) ? match : toUpperCase(match))\n\t\t.replaceAll(SEPARATORS_AND_IDENTIFIER, (_, identifier) => toUpperCase(identifier));\n};\n\nexport default function camelCase(input, options) {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options,\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tconst toLowerCase = options.locale === false\n\t\t? string => string.toLowerCase()\n\t\t: string => string.toLocaleLowerCase(options.locale);\n\n\tconst toUpperCase = options.locale === false\n\t\t? string => string.toUpperCase()\n\t\t: string => string.toLocaleUpperCase(options.locale);\n\n\tif (input.length === 1) {\n\t\tif (SEPARATORS.test(input)) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn options.pascalCase ? toUpperCase(input) : toLowerCase(input);\n\t}\n\n\tconst hasUpperCase = input !== toLowerCase(input);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, toLowerCase, toUpperCase, options.preserveConsecutiveUppercase);\n\t}\n\n\tinput = input.replace(LEADING_SEPARATORS, '');\n\tinput = options.preserveConsecutiveUppercase ? preserveConsecutiveUppercase(input, toLowerCase) : toLowerCase(input);\n\n\tif (options.pascalCase) {\n\t\tinput = toUpperCase(input.charAt(0)) + input.slice(1);\n\t}\n\n\treturn postProcess(input, toUpperCase);\n}\n", "export default class QuickLRU extends Map {\n\tconstructor(options = {}) {\n\t\tsuper();\n\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tif (typeof options.maxAge === 'number' && options.maxAge === 0) {\n\t\t\tthrow new TypeError('`maxAge` must be a number greater than 0');\n\t\t}\n\n\t\t// TODO: Use private class fields when ESLint supports them.\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.maxAge = options.maxAge || Number.POSITIVE_INFINITY;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t// TODO: Use private class methods when targeting Node.js 16.\n\t_emitEvictions(cache) {\n\t\tif (typeof this.onEviction !== 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [key, item] of cache) {\n\t\t\tthis.onEviction(key, item.value);\n\t\t}\n\t}\n\n\t_deleteIfExpired(key, item) {\n\t\tif (typeof item.expiry === 'number' && item.expiry <= Date.now()) {\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tthis.onEviction(key, item.value);\n\t\t\t}\n\n\t\t\treturn this.delete(key);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_getOrDeleteIfExpired(key, item) {\n\t\tconst deleted = this._deleteIfExpired(key, item);\n\t\tif (deleted === false) {\n\t\t\treturn item.value;\n\t\t}\n\t}\n\n\t_getItemValue(key, item) {\n\t\treturn item.expiry ? this._getOrDeleteIfExpired(key, item) : item.value;\n\t}\n\n\t_peek(key, cache) {\n\t\tconst item = cache.get(key);\n\n\t\treturn this._getItemValue(key, item);\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis._emitEvictions(this.oldCache);\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\t_moveToRecent(key, item) {\n\t\tthis.oldCache.delete(key);\n\t\tthis._set(key, item);\n\t}\n\n\t* _entriesAscending() {\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield item;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\tconst item = this.cache.get(key);\n\n\t\t\treturn this._getItemValue(key, item);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst item = this.oldCache.get(key);\n\t\t\tif (this._deleteIfExpired(key, item) === false) {\n\t\t\t\tthis._moveToRecent(key, item);\n\t\t\t\treturn item.value;\n\t\t\t}\n\t\t}\n\t}\n\n\tset(key, value, {maxAge = this.maxAge} = {}) {\n\t\tconst expiry =\n\t\t\ttypeof maxAge === 'number' && maxAge !== Number.POSITIVE_INFINITY ?\n\t\t\t\tDate.now() + maxAge :\n\t\t\t\tundefined;\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, {\n\t\t\t\tvalue,\n\t\t\t\texpiry\n\t\t\t});\n\t\t} else {\n\t\t\tthis._set(key, {value, expiry});\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.cache.get(key));\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.oldCache.get(key));\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this._peek(key, this.cache);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this._peek(key, this.oldCache);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\tresize(newSize) {\n\t\tif (!(newSize && newSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tconst items = [...this._entriesAscending()];\n\t\tconst removeCount = items.length - newSize;\n\t\tif (removeCount < 0) {\n\t\t\tthis.cache = new Map(items);\n\t\t\tthis.oldCache = new Map();\n\t\t\tthis._size = items.length;\n\t\t} else {\n\t\t\tif (removeCount > 0) {\n\t\t\t\tthis._emitEvictions(items.slice(0, removeCount));\n\t\t\t}\n\n\t\t\tthis.oldCache = new Map(items.slice(removeCount));\n\t\t\tthis.cache = new Map();\n\t\t\tthis._size = 0;\n\t\t}\n\n\t\tthis.maxSize = newSize;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesDescending() {\n\t\tlet items = [...this.cache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\titems = [...this.oldCache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesAscending() {\n\t\tfor (const [key, value] of this._entriesAscending()) {\n\t\t\tyield [key, value.value];\n\t\t}\n\t}\n\n\tget size() {\n\t\tif (!this._size) {\n\t\t\treturn this.oldCache.size;\n\t\t}\n\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n\n\tentries() {\n\t\treturn this.entriesAscending();\n\t}\n\n\tforEach(callbackFunction, thisArgument = this) {\n\t\tfor (const [key, value] of this.entriesAscending()) {\n\t\t\tcallbackFunction.call(thisArgument, value, key, this);\n\t\t}\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn JSON.stringify([...this.entriesAscending()]);\n\t}\n}\n", "import mapObject from 'map-obj';\nimport camelCase from 'camelcase';\nimport QuickLru from 'quick-lru';\n\nconst has = (array, key) => array.some(element => {\n\tif (typeof element === 'string') {\n\t\treturn element === key;\n\t}\n\n\telement.lastIndex = 0;\n\n\treturn element.test(key);\n});\n\nconst cache = new QuickLru({maxSize: 100_000});\n\n// Reproduces behavior from `map-obj`.\nconst isObject = value =>\n\ttypeof value === 'object'\n\t\t&& value !== null\n\t\t&& !(value instanceof RegExp)\n\t\t&& !(value instanceof Error)\n\t\t&& !(value instanceof Date);\n\nconst transform = (input, options = {}) => {\n\tif (!isObject(input)) {\n\t\treturn input;\n\t}\n\n\tconst {\n\t\texclude,\n\t\tpascalCase = false,\n\t\tstopPaths,\n\t\tdeep = false,\n\t\tpreserveConsecutiveUppercase = false,\n\t} = options;\n\n\tconst stopPathsSet = new Set(stopPaths);\n\n\tconst makeMapper = parentPath => (key, value) => {\n\t\tif (deep && isObject(value)) {\n\t\t\tconst path = parentPath === undefined ? key : `${parentPath}.${key}`;\n\n\t\t\tif (!stopPathsSet.has(path)) {\n\t\t\t\tvalue = mapObject(value, makeMapper(path));\n\t\t\t}\n\t\t}\n\n\t\tif (!(exclude && has(exclude, key))) {\n\t\t\tconst cacheKey = pascalCase ? `${key}_` : key;\n\n\t\t\tif (cache.has(cacheKey)) {\n\t\t\t\tkey = cache.get(cacheKey);\n\t\t\t} else {\n\t\t\t\tconst returnValue = camelCase(key, {pascalCase, locale: false, preserveConsecutiveUppercase});\n\n\t\t\t\tif (key.length < 100) { // Prevent abuse\n\t\t\t\t\tcache.set(cacheKey, returnValue);\n\t\t\t\t}\n\n\t\t\t\tkey = returnValue;\n\t\t\t}\n\t\t}\n\n\t\treturn [key, value];\n\t};\n\n\treturn mapObject(input, makeMapper(undefined));\n};\n\nexport default function camelcaseKeys(input, options) {\n\tif (Array.isArray(input)) {\n\t\treturn Object.keys(input).map(key => transform(input[key], options));\n\t}\n\n\treturn transform(input, options);\n}\n", "/**\n * @overview Constants for Logto. Synchronized with `@logto/core-kit` package at hash `081094d`.\n */\n/** Scopes that reserved by Logto, which will be added to the auth request automatically. */\nvar ReservedScope;\n(function (ReservedScope) {\n    ReservedScope[\"OpenId\"] = \"openid\";\n    ReservedScope[\"OfflineAccess\"] = \"offline_access\";\n})(ReservedScope || (ReservedScope = {}));\n/** Resources that reserved by Logto, which cannot be defined by users. */\nvar ReservedResource;\n(function (ReservedResource) {\n    /**\n     * The resource for organization template per RFC 0001.\n     *\n     * @see {@link https://github.com/logto-io/rfcs | RFC 0001} for more details.\n     */\n    ReservedResource[\"Organization\"] = \"urn:logto:resource:organizations\";\n})(ReservedResource || (ReservedResource = {}));\n/**\n * Scopes for ID Token and Userinfo Endpoint.\n */\nvar UserScope;\n(function (UserScope) {\n    /**\n     * Scope for basic user info.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Profile\"] = \"profile\";\n    /**\n     * Scope for user email address.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Email\"] = \"email\";\n    /**\n     * Scope for user phone number.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Phone\"] = \"phone\";\n    /**\n     * Scope for user's custom data.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"CustomData\"] = \"custom_data\";\n    /**\n     * Scope for user's social identity details.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Identities\"] = \"identities\";\n    /**\n     * Scope for user's roles.\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Roles\"] = \"roles\";\n    /**\n     * Scope for user's organization IDs and perform organization token grant per [RFC 0001](https://github.com/logto-io/rfcs).\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"Organizations\"] = \"urn:logto:scope:organizations\";\n    /**\n     * Scope for user's organization roles per [RFC 0001](https://github.com/logto-io/rfcs).\n     *\n     * See {@link idTokenClaims} for mapped claims in ID Token and {@link userinfoClaims} for additional claims in Userinfo Endpoint.\n     */\n    UserScope[\"OrganizationRoles\"] = \"urn:logto:scope:organization_roles\";\n})(UserScope || (UserScope = {}));\n/**\n * Mapped claims that ID Token includes.\n */\nconst idTokenClaims = Object.freeze({\n    [UserScope.Profile]: ['name', 'picture', 'username'],\n    [UserScope.Email]: ['email', 'email_verified'],\n    [UserScope.Phone]: ['phone_number', 'phone_number_verified'],\n    [UserScope.Roles]: ['roles'],\n    [UserScope.Organizations]: ['organizations'],\n    [UserScope.OrganizationRoles]: ['organization_roles'],\n    [UserScope.CustomData]: [],\n    [UserScope.Identities]: [],\n});\n/**\n * Additional claims that Userinfo Endpoint returns.\n */\nconst userinfoClaims = Object.freeze({\n    [UserScope.Profile]: [],\n    [UserScope.Email]: [],\n    [UserScope.Phone]: [],\n    [UserScope.Roles]: [],\n    [UserScope.Organizations]: [],\n    [UserScope.OrganizationRoles]: [],\n    [UserScope.CustomData]: ['custom_data'],\n    [UserScope.Identities]: ['identities'],\n});\nconst userClaims = Object.freeze(\n// Hard to infer type directly, use `as` for a workaround.\n// eslint-disable-next-line no-restricted-syntax\nObject.fromEntries(Object.values(UserScope).map((current) => [\n    current,\n    [...idTokenClaims[current], ...userinfoClaims[current]],\n])));\n/**\n * The prefix of the URN (Uniform Resource Name) for the organization in Logto.\n *\n * @example\n * ```\n * urn:logto:organization:123 // organization with ID 123\n * ```\n * @see {@link https://en.wikipedia.org/wiki/Uniform_Resource_Name | Uniform Resource Name}\n */\nconst organizationUrnPrefix = 'urn:logto:organization:';\n/**\n * Build the URN (Uniform Resource Name) for the organization in Logto.\n *\n * @param organizationId The ID of the organization.\n * @returns The URN for the organization.\n * @see {@link organizationUrnPrefix} for the prefix of the URN.\n * @example\n * ```ts\n * buildOrganizationUrn('1') // returns 'urn:logto:organization:1'\n * ```\n */\nconst buildOrganizationUrn = (organizationId) => `${organizationUrnPrefix}${organizationId}`;\n/**\n * Get the organization ID from the URN (Uniform Resource Name) for the organization in Logto.\n *\n * @param urn The URN for the organization. Must start with {@link organizationUrnPrefix}.\n * @returns The ID of the organization.\n * @throws {TypeError} If the URN is invalid.\n * @example\n * ```ts\n * getOrganizationIdFromUrn('1') // throws TypeError\n * getOrganizationIdFromUrn('urn:logto:organization:1') // returns '1'\n * ```\n */\nconst getOrganizationIdFromUrn = (urn) => {\n    if (!urn.startsWith(organizationUrnPrefix)) {\n        throw new TypeError('Invalid organization URN.');\n    }\n    return urn.slice(organizationUrnPrefix.length);\n};\n\nexport { ReservedResource, ReservedScope, UserScope, buildOrganizationUrn, getOrganizationIdFromUrn, idTokenClaims, organizationUrnPrefix, userClaims, userinfoClaims };\n", "export { ReservedResource, ReservedScope, UserScope, buildOrganizationUrn, getOrganizationIdFromUrn, idTokenClaims, organizationUrnPrefix, userClaims, userinfoClaims } from './openid.js';\n\nconst ContentType = {\n    formUrlEncoded: { 'Content-Type': 'application/x-www-form-urlencoded' },\n};\nvar TokenGrantType;\n(function (TokenGrantType) {\n    TokenGrantType[\"AuthorizationCode\"] = \"authorization_code\";\n    TokenGrantType[\"RefreshToken\"] = \"refresh_token\";\n})(TokenGrantType || (TokenGrantType = {}));\nvar QueryKey;\n(function (QueryKey) {\n    QueryKey[\"ClientId\"] = \"client_id\";\n    QueryKey[\"Code\"] = \"code\";\n    QueryKey[\"CodeChallenge\"] = \"code_challenge\";\n    QueryKey[\"CodeChallengeMethod\"] = \"code_challenge_method\";\n    QueryKey[\"CodeVerifier\"] = \"code_verifier\";\n    QueryKey[\"Error\"] = \"error\";\n    QueryKey[\"ErrorDescription\"] = \"error_description\";\n    QueryKey[\"GrantType\"] = \"grant_type\";\n    QueryKey[\"IdToken\"] = \"id_token\";\n    QueryKey[\"IdTokenHint\"] = \"id_token_hint\";\n    QueryKey[\"LoginHint\"] = \"login_hint\";\n    QueryKey[\"PostLogoutRedirectUri\"] = \"post_logout_redirect_uri\";\n    QueryKey[\"Prompt\"] = \"prompt\";\n    QueryKey[\"RedirectUri\"] = \"redirect_uri\";\n    QueryKey[\"RefreshToken\"] = \"refresh_token\";\n    QueryKey[\"Resource\"] = \"resource\";\n    QueryKey[\"ResponseType\"] = \"response_type\";\n    QueryKey[\"Scope\"] = \"scope\";\n    QueryKey[\"State\"] = \"state\";\n    QueryKey[\"Token\"] = \"token\";\n    // Need to align with the OIDC extraParams settings in core\n    QueryKey[\"InteractionMode\"] = \"interaction_mode\";\n    /** The query key for specifying the organization ID. */\n    QueryKey[\"OrganizationId\"] = \"organization_id\";\n    QueryKey[\"FirstScreen\"] = \"first_screen\";\n    QueryKey[\"Identifier\"] = \"identifier\";\n    QueryKey[\"DirectSignIn\"] = \"direct_sign_in\";\n})(QueryKey || (QueryKey = {}));\n/** The prompt parameter to be used for the authorization request. */\nvar Prompt;\n(function (Prompt) {\n    Prompt[\"None\"] = \"none\";\n    /**\n     * The Authorization Server MUST prompt the End-User for consent\n     * before returning information to the Client.\n     */\n    Prompt[\"Consent\"] = \"consent\";\n    /**\n     * The Authorization Server MUST prompt the End-User for re-authentication,\n     * forcing the user to log in again. Note the there'll be no Refresh Token\n     * returned in this case.\n     */\n    Prompt[\"Login\"] = \"login\";\n})(Prompt || (Prompt = {}));\n\nexport { ContentType, Prompt, QueryKey, TokenGrantType };\n", "import camelcaseKeys from 'camelcase-keys';\nimport { QueryKey, TokenGrantType, ContentType } from '../consts/index.js';\n\nconst fetchTokenByAuthorizationCode = async ({ clientId, tokenEndpoint, redirectUri, codeVerifier, code, resource, }, requester) => {\n    const parameters = new URLSearchParams();\n    parameters.append(QueryKey.ClientId, clientId);\n    parameters.append(QueryKey.Code, code);\n    parameters.append(QueryKey.CodeVerifier, codeVerifier);\n    parameters.append(QueryKey.RedirectUri, redirectUri);\n    parameters.append(QueryKey.GrantType, TokenGrantType.AuthorizationCode);\n    if (resource) {\n        parameters.append(QueryKey.Resource, resource);\n    }\n    const snakeCaseCodeTokenResponse = await requester(tokenEndpoint, {\n        method: 'POST',\n        headers: ContentType.formUrlEncoded,\n        body: parameters.toString(),\n    });\n    return camelcaseKeys(snakeCaseCodeTokenResponse);\n};\n/**\n * Fetch access token by refresh token using the token endpoint and `refresh_token` grant type.\n * @param params The parameters for fetching access token.\n * @param requester The requester for sending HTTP request.\n * @returns A Promise that resolves to the access token response.\n */\nconst fetchTokenByRefreshToken = async (params, requester) => {\n    const { clientId, tokenEndpoint, refreshToken, resource, organizationId, scopes } = params;\n    const parameters = new URLSearchParams();\n    parameters.append(QueryKey.ClientId, clientId);\n    parameters.append(QueryKey.RefreshToken, refreshToken);\n    parameters.append(QueryKey.GrantType, TokenGrantType.RefreshToken);\n    if (resource) {\n        parameters.append(QueryKey.Resource, resource);\n    }\n    if (organizationId) {\n        parameters.append(QueryKey.OrganizationId, organizationId);\n    }\n    if (scopes?.length) {\n        parameters.append(QueryKey.Scope, scopes.join(' '));\n    }\n    const snakeCaseRefreshTokenTokenResponse = await requester(tokenEndpoint, {\n        method: 'POST',\n        headers: ContentType.formUrlEncoded,\n        body: parameters.toString(),\n    });\n    return camelcaseKeys(snakeCaseRefreshTokenTokenResponse);\n};\n\nexport { fetchTokenByAuthorizationCode, fetchTokenByRefreshToken };\n", "import camelcaseKeys from 'camelcase-keys';\n\nconst discoveryPath = '/oidc/.well-known/openid-configuration';\nconst fetchOidcConfig = async (endpoint, requester) => camelcaseKeys(await requester(endpoint));\n\nexport { discoveryPath, fetchOidcConfig };\n", "import { ContentType, QueryKey } from '../consts/index.js';\n\nconst revoke = async (revocationEndpoint, clientId, token, requester) => requester(revocationEndpoint, {\n    method: 'POST',\n    headers: ContentType.formUrlEncoded,\n    body: new URLSearchParams({\n        [QueryKey.ClientId]: clientId,\n        [QueryKey.Token]: token,\n    }).toString(),\n});\n\nexport { revoke };\n", "import '../consts/index.js';\nimport { ReservedScope, UserScope } from '../consts/openid.js';\n\n/**\n * @param originalScopes\n * @return scopes should contain all default scopes (`openid`, `offline_access` and `profile`)\n */\nconst withReservedScopes = (originalScopes) => {\n    const reservedScopes = Object.values(ReservedScope);\n    const uniqueScopes = new Set([...reservedScopes, UserScope.Profile, ...(originalScopes ?? [])]);\n    return Array.from(uniqueScopes).join(' ');\n};\n/**\n * Alias of {@link withReservedScopes}.\n *\n * @deprecated Use {@link withReservedScopes} instead.\n */\nconst withDefaultScopes = withReservedScopes;\n\nexport { withDefaultScopes, withReservedScopes };\n", "import { QueryKey, Prompt } from '../consts/index.js';\nimport { withReservedScopes } from '../utils/scopes.js';\n\nconst codeChallengeMethod = 'S256';\nconst responseType = 'code';\nconst buildPrompt = (prompt) => {\n    if (Array.isArray(prompt)) {\n        return prompt.join(' ');\n    }\n    return prompt ?? Prompt.Consent;\n};\n// eslint-disable-next-line complexity\nconst generateSignInUri = ({ authorizationEndpoint, clientId, redirectUri, codeChallenge, state, scopes, resources, prompt, firstScreen, identifiers: identifier, interactionMode, loginHint, directSignIn, extraParams, includeReservedScopes = true, }) => {\n    const urlSearchParameters = new URLSearchParams({\n        [QueryKey.ClientId]: clientId,\n        [QueryKey.RedirectUri]: redirectUri,\n        [QueryKey.CodeChallenge]: codeChallenge,\n        [QueryKey.CodeChallengeMethod]: codeChallengeMethod,\n        [QueryKey.State]: state,\n        [QueryKey.ResponseType]: responseType,\n        [QueryKey.Prompt]: buildPrompt(prompt),\n    });\n    const computedScopes = includeReservedScopes ? withReservedScopes(scopes) : scopes?.join(' ');\n    if (computedScopes) {\n        urlSearchParameters.append(QueryKey.Scope, computedScopes);\n    }\n    if (loginHint) {\n        urlSearchParameters.append(QueryKey.LoginHint, loginHint);\n    }\n    if (directSignIn) {\n        urlSearchParameters.append(QueryKey.DirectSignIn, `${directSignIn.method}:${directSignIn.target}`);\n    }\n    for (const resource of resources ?? []) {\n        urlSearchParameters.append(QueryKey.Resource, resource);\n    }\n    if (firstScreen) {\n        urlSearchParameters.append(QueryKey.FirstScreen, firstScreen);\n    }\n    // @deprecated Remove later\n    else if (interactionMode) {\n        urlSearchParameters.append(QueryKey.InteractionMode, interactionMode);\n    }\n    if (identifier && identifier.length > 0) {\n        urlSearchParameters.append(QueryKey.Identifier, identifier.join(' '));\n    }\n    if (extraParams) {\n        for (const [key, value] of Object.entries(extraParams)) {\n            urlSearchParameters.append(key, value);\n        }\n    }\n    return `${authorizationEndpoint}?${urlSearchParameters.toString()}`;\n};\n\nexport { generateSignInUri };\n", "import { QueryKey } from '../consts/index.js';\n\nconst generateSignOutUri = ({ endSessionEndpoint, clientId, postLogoutRedirectUri, }) => {\n    const urlSearchParameters = new URLSearchParams({ [QueryKey.ClientId]: clientId });\n    if (postLogoutRedirectUri) {\n        urlSearchParameters.append(QueryKey.PostLogoutRedirectUri, postLogoutRedirectUri);\n    }\n    return `${endSessionEndpoint}?${urlSearchParameters.toString()}`;\n};\n\nexport { generateSignOutUri };\n", "const fetchUserInfo = async (userInfoEndpoint, accessToken, requester) => requester(userInfoEndpoint, {\n    headers: { Authorization: `Bearer ${accessToken}` },\n});\n\nexport { fetchUserInfo };\n", "const normalizeValueToStringArray = (value) => {\n    if (value) {\n        return Array.isArray(value) ? value : [value];\n    }\n    return [];\n};\n// Disable FP rules here to use the performant approach while keep the function itself \"FP\"\n/* eslint-disable @silverhand/fp/no-let, @silverhand/fp/no-mutation */\nconst repeat = (times, initial, iterate) => {\n    let result = initial;\n    while (times--) {\n        result = iterate(result);\n    }\n    return result;\n};\n/* eslint-enable @silverhand/fp/no-let, @silverhand/fp/no-mutation */\nconst deduplicate = (array) => [...new Set(array)];\n/**\n * Deduplicate an array of objects by a specific key.\n *\n * @param array The array of objects to deduplicate.\n * @param key The key to deduplicate by.\n * @example\n * const array = [{ id: 1, name: 'John' }, { id: 2, name: 'Doe' }, { id: 1, name: 'John' }];\n * deduplicateByKey(array, 'id');\n * // Output: [{ id: 1, name: 'John' }, { id: 2, name: 'Doe' }]\n */\nconst deduplicateByKey = (array, key) => [\n    ...new Map(array.map((item) => [item[key], item])).values(),\n];\n\nexport { deduplicate, deduplicateByKey, normalizeValueToStringArray, repeat };\n", "// eslint-disable-next-line id-length\nconst compareFunction = (a, b) => {\n    if (typeof a === 'string' && typeof b === 'string') {\n        return a.localeCompare(b);\n    }\n    if (typeof a === 'number' && typeof b === 'number') {\n        return a - b;\n    }\n    if (typeof a === 'boolean' && typeof b === 'boolean') {\n        return Number(a) - Number(b);\n    }\n    throw new Error('Unsupported compare type');\n};\nconst isSameArray = (array1, array2) => {\n    if (array1.length !== array2.length) {\n        return false;\n    }\n    const sortedA = array1.slice().sort(compareFunction);\n    const sortedB = array2.slice().sort(compareFunction);\n    return sortedA.every((value, index) => value === sortedB[index]);\n};\n// eslint-disable-next-line unicorn/prefer-native-coercion-functions\nconst notFalsy = (value) => Boolean(value);\nconst notEmpty = (value) => value !== null && value !== undefined;\nconst has = (data, property) => Object.prototype.hasOwnProperty.call(data, property);\nconst hasChineseCharacter = (string) => Boolean(/[\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uF900-\\uFAFF]/.test(string));\n/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types -- this is a utility function\nconst isObject = (object) => Object.prototype.toString.call(object) === '[object Object]';\n/** Returns true if an object was created by the `Object` constructor, or `Object.create(null)`. */\nfunction isPlainObject(object) {\n    if (!isObject(object)) {\n        return false;\n    }\n    // If has modified constructor\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (object.constructor === undefined) {\n        return true;\n    }\n    // If has modified prototype\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, prefer-destructuring\n    const prototype = object.constructor.prototype;\n    if (!isObject(prototype)) {\n        return false;\n    }\n    // If constructor does not have an Object-specific method\n    if (!has(prototype, 'isPrototypeOf')) {\n        return false;\n    }\n    // Most likely a plain Object\n    return true;\n}\n\nexport { has, hasChineseCharacter, isPlainObject, isSameArray, notEmpty, notFalsy };\n", "import { notFalsy } from './assertions.js';\n\nconst nullable = (exp) => (notFalsy(exp) ? exp : null);\n/**\n * Conditional return the expression result when it's not {@link Falsy};\n * otherwise return `undefined`.\n *\n * @example\n * ```ts\n * conditional(1 && '2') // '2'\n * conditional(false && '1') // undefined\n * ```\n */\nconst conditional = (exp) => (notFalsy(exp) ? exp : undefined);\n/** Alias for {@link conditional}. */\nconst cond = conditional;\n/**\n * Conditional return the stringified expression result (using `String`) when it's not {@link Falsy};\n * otherwise return an empty string.\n *\n * @example\n * ```ts\n * conditionalString(1 && 2) // '2'\n * conditionalString(false && '1') // ''\n * ```\n */\nconst conditionalString = (exp) => (notFalsy(exp) ? String(exp) : '');\n/** Alias for {@link conditionalString}. */\nconst condString = conditionalString;\n/**\n * Conditional concat multiple expression results into a array by filtering all {@link Falsy} results\n * and flatten 1 level deep if the expression result is an array.\n *\n * @example\n * ```ts\n * conditionalArray(1, [2, 3]) // [1, 2, 3]\n * ```\n */\nconst conditionalArray = (...exps) => exps.filter((value) => notFalsy(value)).flat();\n/** Alias for {@link conditionalArray}. */\nconst condArray = conditionalArray;\n/**\n * Return a new object with all {@link Falsy} values removed.\n * This function only performs a shallow removal, i.e. it does not remove\n * {@link Falsy} values nested in objects.\n *\n * @example\n * ```ts\n * conditionalObject({\n *   foo: 'foo',\n *   bar: undefined,\n *   baz: false,\n * }) // { foo: 'foo' }\n * ```\n */\nconst conditionalObject = (object) => \n// eslint-disable-next-line no-restricted-syntax\nObject.fromEntries(Object.entries(object).filter(([, value]) => notFalsy(value)));\n/** Alias for {@link conditionalObject}. */\nconst condObject = conditionalObject;\n\nexport { cond, condArray, condObject, condString, conditional, conditionalArray, conditionalObject, conditionalString, nullable };\n", "// Intended\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => { };\nconst isPromise = (value) => value !== null &&\n    (typeof value === 'object' || typeof value === 'function') &&\n    'then' in value &&\n    typeof value.then === 'function';\n// eslint-disable-next-line @typescript-eslint/promise-function-async\nconst tryThat = (exec, onError) => {\n    const handleError = (error) => {\n        if (onError instanceof Error) {\n            throw onError;\n        }\n        return onError(error);\n    };\n    try {\n        const unwrapped = typeof exec === 'function' ? exec() : exec;\n        // eslint-disable-next-line promise/prefer-await-to-then\n        return isPromise(unwrapped) ? unwrapped.catch(handleError) : unwrapped;\n    }\n    catch (error) {\n        return handleError(error);\n    }\n};\n// eslint-disable-next-line @typescript-eslint/promise-function-async\nconst trySafe = (exec, onError) => {\n    try {\n        const unwrapped = typeof exec === 'function' ? exec() : exec;\n        return isPromise(unwrapped)\n            ? // eslint-disable-next-line promise/prefer-await-to-then\n                unwrapped.catch((error) => {\n                    onError?.(error);\n                })\n            : unwrapped;\n    }\n    catch (error) {\n        onError?.(error);\n    }\n};\n\nexport { isPromise, noop, trySafe, tryThat };\n", "function toTitle(string) {\n    if (typeof string !== 'string') {\n        throw new TypeError('Expected a string');\n    }\n    return string\n        .toLowerCase()\n        .replaceAll(/(?:^|\\s|-)\\S/g, (value) => value.toUpperCase())\n        .replaceAll('-', ' ');\n}\n/**\n * RFC 4648 section 5: base64url (URL- and filename-safe standard)\n * @link https://datatracker.ietf.org/doc/html/rfc4648#section-5\n */\nconst replaceNonUrlSafeCharacters = (base64String) => base64String.replaceAll('+', '-').replaceAll('/', '_').replaceAll(/=+$/g, '');\nconst restoreNonUrlSafeCharacters = (base64String) => base64String.replaceAll('-', '+').replaceAll('_', '/');\nconst urlSafeBase64 = {\n    isSafe: (input) => /^[\\w-]*$/.test(input),\n    encode: (rawString) => {\n        const encodedString = btoa(unescape(encodeURIComponent(rawString)));\n        return replaceNonUrlSafeCharacters(encodedString);\n    },\n    decode: (encodedString) => {\n        const nonUrlSafeEncodedString = restoreNonUrlSafeCharacters(encodedString);\n        return decodeURIComponent(escape(atob(nonUrlSafeEncodedString)));\n    },\n    replaceNonUrlSafeCharacters,\n    restoreNonUrlSafeCharacters,\n};\nconst yes = (value) => \n// eslint-disable-next-line no-implicit-coercion\n!!value && ['1', 'true', 'y', 'yes', 'yep', 'yeah'].includes(value.toLowerCase());\n\nexport { toTitle, urlSafeBase64, yes };\n", "const isArbitraryObject = (data) => typeof data === 'object' && data !== null;\n\nexport { isArbitraryObject };\n", "import { isArbitraryObject } from './arbitrary-object.js';\n\nconst logtoErrorCodes = Object.freeze({\n    'id_token.invalid_iat': 'Invalid issued at time in the ID token',\n    'id_token.invalid_token': 'Invalid ID token',\n    'callback_uri_verification.redirect_uri_mismatched': 'The callback URI mismatches the redirect URI.',\n    'callback_uri_verification.error_found': 'Error found in the callback URI',\n    'callback_uri_verification.missing_state': 'Missing state in the callback URI',\n    'callback_uri_verification.state_mismatched': 'State mismatched in the callback URI',\n    'callback_uri_verification.missing_code': 'Missing code in the callback URI',\n    crypto_subtle_unavailable: 'Crypto.subtle is unavailable in insecure contexts (non-HTTPS).',\n    unexpected_response_error: 'Unexpected response error from the server.',\n});\nclass LogtoError extends Error {\n    constructor(code, data) {\n        super(logtoErrorCodes[code]);\n        this.code = code;\n        this.data = data;\n        this.name = 'LogtoError';\n    }\n}\nconst isLogtoRequestError = (data) => {\n    if (!isArbitraryObject(data)) {\n        return false;\n    }\n    return data instanceof Error && data.name === 'LogtoRequestError';\n};\nconst isLogtoRequestErrorJson = (data) => {\n    if (!isArbitraryObject(data)) {\n        return false;\n    }\n    return typeof data.code === 'string' && typeof data.message === 'string';\n};\nclass LogtoRequestError extends Error {\n    constructor(code, message, \n    /** The original response object from the server. */\n    cause) {\n        super(message);\n        this.code = code;\n        this.cause = cause;\n        this.name = 'LogtoRequestError';\n    }\n}\nclass OidcError {\n    constructor(error, errorDescription) {\n        this.error = error;\n        this.errorDescription = errorDescription;\n        this.name = 'OidcError';\n    }\n}\n\nexport { LogtoError, LogtoRequestError, OidcError, isLogtoRequestError, isLogtoRequestErrorJson };\n", "import { conditional } from '@silverhand/essentials';\nimport { QueryKey } from '../consts/index.js';\nimport { LogtoError, OidcError } from './errors.js';\n\nconst parseUriParameters = (uri) => {\n    const [, queryString = ''] = uri.split('?');\n    return new URLSearchParams(queryString);\n};\nconst verifyAndParseCodeFromCallbackUri = (callbackUri, redirectUri, state) => {\n    if (!callbackUri.startsWith(redirectUri)) {\n        throw new LogtoError('callback_uri_verification.redirect_uri_mismatched');\n    }\n    const uriParameters = parseUriParameters(callbackUri);\n    const error = conditional(uriParameters.get(QueryKey.Error));\n    const errorDescription = conditional(uriParameters.get(QueryKey.ErrorDescription));\n    if (error) {\n        throw new LogtoError('callback_uri_verification.error_found', new OidcError(error, errorDescription));\n    }\n    const stateFromCallbackUri = uriParameters.get(QueryKey.State);\n    if (!stateFromCallbackUri) {\n        throw new LogtoError('callback_uri_verification.missing_state');\n    }\n    if (stateFromCallbackUri !== state) {\n        throw new LogtoError('callback_uri_verification.state_mismatched');\n    }\n    const code = uriParameters.get(QueryKey.Code);\n    if (!code) {\n        throw new LogtoError('callback_uri_verification.missing_code');\n    }\n    return code;\n};\n\nexport { parseUriParameters, verifyAndParseCodeFromCallbackUri };\n", "import { urlSafeBase64 } from '@silverhand/essentials';\nimport { isArbitraryObject } from './arbitrary-object.js';\nimport { LogtoError } from './errors.js';\n\n/* eslint-disable complexity */\n/**\n * @link [ID Token](https://openid.net/specs/openid-connect-core-1_0.html#IDToken)\n */\nfunction assertIdTokenClaims(data) {\n    if (!isArbitraryObject(data)) {\n        throw new TypeError('IdToken is expected to be an object');\n    }\n    for (const key of ['iss', 'sub', 'aud']) {\n        if (typeof data[key] !== 'string') {\n            throw new TypeError(`At path: IdToken.${key}: expected a string`);\n        }\n    }\n    for (const key of ['exp', 'iat']) {\n        if (typeof data[key] !== 'number') {\n            throw new TypeError(`At path: IdToken.${key}: expected a number`);\n        }\n    }\n    for (const key of ['at_hash', 'name', 'username', 'picture', 'email', 'phone_number']) {\n        if (data[key] === undefined) {\n            continue;\n        }\n        if (typeof data[key] !== 'string' && data[key] !== null) {\n            throw new TypeError(`At path: IdToken.${key}: expected null or a string`);\n        }\n    }\n    for (const key of ['email_verified', 'phone_number_verified']) {\n        if (data[key] === undefined) {\n            continue;\n        }\n        if (typeof data[key] !== 'boolean') {\n            throw new TypeError(`At path: IdToken.${key}: expected a boolean`);\n        }\n    }\n}\n/* eslint-enable complexity */\nconst decodeIdToken = (token) => {\n    const { 1: encodedPayload } = token.split('.');\n    if (!encodedPayload) {\n        throw new LogtoError('id_token.invalid_token');\n    }\n    const json = urlSafeBase64.decode(encodedPayload);\n    const idTokenClaims = JSON.parse(json);\n    assertIdTokenClaims(idTokenClaims);\n    return idTokenClaims;\n};\n\nexport { decodeIdToken };\n", "import { urlSafeBase64 } from '@silverhand/essentials';\nimport { isArbitraryObject } from './arbitrary-object.js';\n\n// https://docs.logto.io/docs/recipes/protect-your-api/\nfunction assertAccessTokenClaims(data) {\n    if (!isArbitraryObject(data)) {\n        throw new TypeError('AccessToken is expected to be an object');\n    }\n    for (const key of ['jti', 'iss', 'sub', 'aud', 'client_id', 'scope']) {\n        if (data[key] === undefined) {\n            continue;\n        }\n        if (typeof data[key] !== 'string' && data[key] !== null) {\n            throw new TypeError(`At path: AccessToken.${key}: expected null or a string`);\n        }\n    }\n    for (const key of ['exp', 'iat']) {\n        if (data[key] === undefined) {\n            continue;\n        }\n        if (typeof data[key] !== 'number' && data[key] !== null) {\n            throw new TypeError(`At path: AccessToken.${key}: expected null or a number`);\n        }\n    }\n}\nconst decodeAccessToken = (accessToken) => {\n    const { 1: encodedPayload } = accessToken.split('.');\n    if (!encodedPayload) {\n        // Non-JWT format token string\n        return {};\n    }\n    const json = urlSafeBase64.decode(encodedPayload);\n    const accessTokenClaims = JSON.parse(json);\n    assertAccessTokenClaims(accessTokenClaims);\n    return accessTokenClaims;\n};\n\nexport { decodeAccessToken };\n", "export default crypto;\nexport const isCryptoKey = (key) => key instanceof CryptoKey;\n", "import digest from '../runtime/digest.js';\nexport const encoder = new TextEncoder();\nexport const decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nexport function concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    for (const buffer of buffers) {\n        buf.set(buffer, i);\n        i += buffer.length;\n    }\n    return buf;\n}\nexport function p2s(alg, p2sInput) {\n    return concat(encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nexport function uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexport function uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexport function lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nexport async function concatKdf(secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    const res = new Uint8Array(iterations * 32);\n    for (let iter = 0; iter < iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter + 1));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        res.set(await digest('sha256', buf), iter * 32);\n    }\n    return res.slice(0, bits >> 3);\n}\n", "import { encoder, decoder } from '../lib/buffer_utils.js';\nexport const encodeBase64 = (input) => {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = encoder.encode(unencoded);\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < unencoded.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, unencoded.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n};\nexport const encode = (input) => {\n    return encodeBase64(input).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n};\nexport const decodeBase64 = (encoded) => {\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n};\nexport const decode = (input) => {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, '');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n};\n", "export class JOSEError extends Error {\n    constructor(message, options) {\n        super(message, options);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nJOSEError.code = 'ERR_JOSE_GENERIC';\nexport class JWTClaimValidationFailed extends JOSEError {\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nJWTClaimValidationFailed.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\nexport class JWTExpired extends JOSEError {\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nJWTExpired.code = 'ERR_JWT_EXPIRED';\nexport class JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nJOSEAlgNotAllowed.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\nexport class JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nJOSENotSupported.code = 'ERR_JOSE_NOT_SUPPORTED';\nexport class JWEDecryptionFailed extends JOSEError {\n    constructor(message = 'decryption operation failed', options) {\n        super(message, options);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nJWEDecryptionFailed.code = 'ERR_JWE_DECRYPTION_FAILED';\nexport class JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n}\nJWEInvalid.code = 'ERR_JWE_INVALID';\nexport class JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n}\nJWSInvalid.code = 'ERR_JWS_INVALID';\nexport class JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n}\nJWTInvalid.code = 'ERR_JWT_INVALID';\nexport class JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n}\nJWKInvalid.code = 'ERR_JWK_INVALID';\nexport class JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n}\nJWKSInvalid.code = 'ERR_JWKS_INVALID';\nexport class JWKSNoMatchingKey extends JOSEError {\n    constructor(message = 'no applicable key found in the JSON Web Key Set', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nJWKSNoMatchingKey.code = 'ERR_JWKS_NO_MATCHING_KEY';\nexport class JWKSMultipleMatchingKeys extends JOSEError {\n    constructor(message = 'multiple matching keys found in the JSON Web Key Set', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nSymbol.asyncIterator;\nJWKSMultipleMatchingKeys.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\nexport class JWKSTimeout extends JOSEError {\n    constructor(message = 'request timed out', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_TIMEOUT';\n    }\n}\nJWKSTimeout.code = 'ERR_JWKS_TIMEOUT';\nexport class JWSSignatureVerificationFailed extends JOSEError {\n    constructor(message = 'signature verification failed', options) {\n        super(message, options);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\nJWSSignatureVerificationFailed.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n", "import crypto from './webcrypto.js';\nexport default crypto.getRandomValues.bind(crypto);\n", "function unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usages) {\n    if (usages.length && !usages.some((expected) => key.usages.includes(expected))) {\n        let msg = 'CryptoKey does not support this operation, its usages must include ';\n        if (usages.length > 2) {\n            const last = usages.pop();\n            msg += `one of ${usages.join(', ')}, or ${last}.`;\n        }\n        else if (usages.length === 2) {\n            msg += `one of ${usages[0]} or ${usages[1]}.`;\n        }\n        else {\n            msg += `${usages[0]}.`;\n        }\n        throw new TypeError(msg);\n    }\n}\nexport function checkSigCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'EdDSA': {\n            if (key.algorithm.name !== 'Ed25519' && key.algorithm.name !== 'Ed448') {\n                throw unusable('Ed25519 or Ed448');\n            }\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexport function checkEncCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                case 'X448':\n                    break;\n                default:\n                    throw unusable('ECDH, X25519, or X448');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\n", "function message(msg, actual, ...types) {\n    types = types.filter(Boolean);\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor?.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexport default (actual, ...types) => {\n    return message('Key must be ', actual, ...types);\n};\nexport function withAlg(alg, actual, ...types) {\n    return message(`Key for the ${alg} algorithm must be `, actual, ...types);\n}\n", "import { isCryptoKey } from './webcrypto.js';\nexport default (key) => {\n    if (isCryptoKey(key)) {\n        return true;\n    }\n    return key?.[Symbol.toStringTag] === 'KeyObject';\n};\nexport const types = ['CryptoKey'];\n", "const isDisjoint = (...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n};\nexport default isDisjoint;\n", "function isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nexport default function isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n", "export default (alg, key) => {\n    if (alg.startsWith('RS') || alg.startsWith('PS')) {\n        const { modulusLength } = key.algorithm;\n        if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n            throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n        }\n    }\n};\n", "import isObject from './is_object.js';\nexport function isJWK(key) {\n    return isObject(key) && typeof key.kty === 'string';\n}\nexport function isPrivateJWK(key) {\n    return key.kty !== 'oct' && typeof key.d === 'string';\n}\nexport function isPublicJWK(key) {\n    return key.kty !== 'oct' && typeof key.d === 'undefined';\n}\nexport function isSecretJWK(key) {\n    return isJWK(key) && key.kty === 'oct' && typeof key.k === 'string';\n}\n", "import crypto from './webcrypto.js';\nimport { JOSENotSupported } from '../util/errors.js';\nfunction subtleMapping(jwk) {\n    let algorithm;\n    let keyUsages;\n    switch (jwk.kty) {\n        case 'RSA': {\n            switch (jwk.alg) {\n                case 'PS256':\n                case 'PS384':\n                case 'PS512':\n                    algorithm = { name: 'RSA-PSS', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RS256':\n                case 'RS384':\n                case 'RS512':\n                    algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RSA-OAEP':\n                case 'RSA-OAEP-256':\n                case 'RSA-OAEP-384':\n                case 'RSA-OAEP-512':\n                    algorithm = {\n                        name: 'RSA-OAEP',\n                        hash: `SHA-${parseInt(jwk.alg.slice(-3), 10) || 1}`,\n                    };\n                    keyUsages = jwk.d ? ['decrypt', 'unwrapKey'] : ['encrypt', 'wrapKey'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'EC': {\n            switch (jwk.alg) {\n                case 'ES256':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES384':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES512':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: 'ECDH', namedCurve: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'OKP': {\n            switch (jwk.alg) {\n                case 'EdDSA':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n    return { algorithm, keyUsages };\n}\nconst parse = async (jwk) => {\n    if (!jwk.alg) {\n        throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    }\n    const { algorithm, keyUsages } = subtleMapping(jwk);\n    const rest = [\n        algorithm,\n        jwk.ext ?? false,\n        jwk.key_ops ?? keyUsages,\n    ];\n    const keyData = { ...jwk };\n    delete keyData.alg;\n    delete keyData.use;\n    return crypto.subtle.importKey('jwk', keyData, ...rest);\n};\nexport default parse;\n", "import { isJWK } from '../lib/is_jwk.js';\nimport { decode } from './base64url.js';\nimport importJWK from './jwk_to_key.js';\nconst exportKeyValue = (k) => decode(k);\nlet privCache;\nlet pubCache;\nconst isKeyObject = (key) => {\n    return key?.[Symbol.toStringTag] === 'KeyObject';\n};\nconst importAndCache = async (cache, key, jwk, alg, freeze = false) => {\n    let cached = cache.get(key);\n    if (cached?.[alg]) {\n        return cached[alg];\n    }\n    const cryptoKey = await importJWK({ ...jwk, alg });\n    if (freeze)\n        Object.freeze(key);\n    if (!cached) {\n        cache.set(key, { [alg]: cryptoKey });\n    }\n    else {\n        cached[alg] = cryptoKey;\n    }\n    return cryptoKey;\n};\nconst normalizePublicKey = (key, alg) => {\n    if (isKeyObject(key)) {\n        let jwk = key.export({ format: 'jwk' });\n        delete jwk.d;\n        delete jwk.dp;\n        delete jwk.dq;\n        delete jwk.p;\n        delete jwk.q;\n        delete jwk.qi;\n        if (jwk.k) {\n            return exportKeyValue(jwk.k);\n        }\n        pubCache || (pubCache = new WeakMap());\n        return importAndCache(pubCache, key, jwk, alg);\n    }\n    if (isJWK(key)) {\n        if (key.k)\n            return decode(key.k);\n        pubCache || (pubCache = new WeakMap());\n        const cryptoKey = importAndCache(pubCache, key, key, alg, true);\n        return cryptoKey;\n    }\n    return key;\n};\nconst normalizePrivateKey = (key, alg) => {\n    if (isKeyObject(key)) {\n        let jwk = key.export({ format: 'jwk' });\n        if (jwk.k) {\n            return exportKeyValue(jwk.k);\n        }\n        privCache || (privCache = new WeakMap());\n        return importAndCache(privCache, key, jwk, alg);\n    }\n    if (isJWK(key)) {\n        if (key.k)\n            return decode(key.k);\n        privCache || (privCache = new WeakMap());\n        const cryptoKey = importAndCache(privCache, key, key, alg, true);\n        return cryptoKey;\n    }\n    return key;\n};\nexport default { normalizePublicKey, normalizePrivateKey };\n", "import { decode as decodeBase64URL } from '../runtime/base64url.js';\nimport { fromSPKI, fromPKCS8, fromX509 } from '../runtime/asn1.js';\nimport asKeyObject from '../runtime/jwk_to_key.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nexport async function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return fromSPKI(spki, alg, options);\n}\nexport async function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return fromX509(x509, alg, options);\n}\nexport async function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return fromPKCS8(pkcs8, alg, options);\n}\nexport async function importJWK(jwk, alg) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    alg || (alg = jwk.alg);\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            return decodeBase64URL(jwk.k);\n        case 'RSA':\n            if (jwk.oth !== undefined) {\n                throw new JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n        case 'EC':\n        case 'OKP':\n            return asKeyObject({ ...jwk, alg });\n        default:\n            throw new JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n", "import { withAlg as invalidKeyInput } from './invalid_key_input.js';\nimport isKeyLike, { types } from '../runtime/is_key_like.js';\nimport * as jwk from './is_jwk.js';\nconst tag = (key) => key?.[Symbol.toStringTag];\nconst jwkMatchesOp = (alg, key, usage) => {\n    if (key.use !== undefined && key.use !== 'sig') {\n        throw new TypeError('Invalid key for this operation, when present its use must be sig');\n    }\n    if (key.key_ops !== undefined && key.key_ops.includes?.(usage) !== true) {\n        throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${usage}`);\n    }\n    if (key.alg !== undefined && key.alg !== alg) {\n        throw new TypeError(`Invalid key for this operation, when present its alg must be ${alg}`);\n    }\n    return true;\n};\nconst symmetricTypeCheck = (alg, key, usage, allowJwk) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (allowJwk && jwk.isJWK(key)) {\n        if (jwk.isSecretJWK(key) && jwkMatchesOp(alg, key, usage))\n            return;\n        throw new TypeError(`JSON Web Key for symmetric algorithms must have JWK \"kty\" (Key Type) equal to \"oct\" and the JWK \"k\" (Key Value) present`);\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types, 'Uint8Array', allowJwk ? 'JSON Web Key' : null));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${tag(key)} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage, allowJwk) => {\n    if (allowJwk && jwk.isJWK(key)) {\n        switch (usage) {\n            case 'sign':\n                if (jwk.isPrivateJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation be a private JWK`);\n            case 'verify':\n                if (jwk.isPublicJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation be a public JWK`);\n        }\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types, allowJwk ? 'JSON Web Key' : null));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (usage === 'sign' && key.type === 'public') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm signing must be of type \"private\"`);\n    }\n    if (usage === 'decrypt' && key.type === 'public') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    }\n    if (key.algorithm && usage === 'verify' && key.type === 'private') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    }\n    if (key.algorithm && usage === 'encrypt' && key.type === 'private') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm encryption must be of type \"public\"`);\n    }\n};\nfunction checkKeyType(allowJwk, alg, key, usage) {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A\\d{3}(?:GCM)?KW$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(alg, key, usage, allowJwk);\n    }\n    else {\n        asymmetricTypeCheck(alg, key, usage, allowJwk);\n    }\n}\nexport default checkKeyType.bind(undefined, false);\nexport const checkKeyTypeWithJwk = checkKeyType.bind(undefined, true);\n", "import { JOSENotSupported } from '../util/errors.js';\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader?.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexport default validateCrit;\n", "const validateAlgorithms = (option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n};\nexport default validateAlgorithms;\n", "export const unprotected = Symbol();\n", "import { JOSENotSupported } from '../util/errors.js';\nexport default function subtleDsa(alg, algorithm) {\n    const hash = `SHA-${alg.slice(-3)}`;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            return { hash, name: 'HMAC' };\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { hash, name: 'RSA-PSS', saltLength: alg.slice(-3) >> 3 };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { hash, name: 'RSASSA-PKCS1-v1_5' };\n        case 'ES256':\n        case 'ES384':\n        case 'ES512':\n            return { hash, name: 'ECDSA', namedCurve: algorithm.namedCurve };\n        case 'EdDSA':\n            return { name: algorithm.name };\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkSigCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nimport normalize from './normalize_key.js';\nexport default async function getCryptoKey(alg, key, usage) {\n    if (usage === 'sign') {\n        key = await normalize.normalizePrivateKey(key, alg);\n    }\n    if (usage === 'verify') {\n        key = await normalize.normalizePublicKey(key, alg);\n    }\n    if (isCryptoKey(key)) {\n        checkSigCryptoKey(key, alg, usage);\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError(invalidKeyInput(key, ...types));\n        }\n        return crypto.subtle.importKey('raw', key, { hash: `SHA-${alg.slice(-3)}`, name: 'HMAC' }, false, [usage]);\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array', 'JSON Web Key'));\n}\n", "import subtleAlgorithm from './subtle_dsa.js';\nimport crypto from './webcrypto.js';\nimport checkKeyLength from './check_key_length.js';\nimport getVerifyKey from './get_sign_verify_key.js';\nconst verify = async (alg, key, signature, data) => {\n    const cryptoKey = await getVerifyKey(alg, key, 'verify');\n    checkKeyLength(alg, cryptoKey);\n    const algorithm = subtleAlgorithm(alg, cryptoKey.algorithm);\n    try {\n        return await crypto.subtle.verify(algorithm, cryptoKey, signature, data);\n    }\n    catch {\n        return false;\n    }\n};\nexport default verify;\n", "import { decode as base64url } from '../../runtime/base64url.js';\nimport verify from '../../runtime/verify.js';\nimport { JOSEAlgNotAllowed, JWSInvalid, JWSSignatureVerificationFailed } from '../../util/errors.js';\nimport { concat, encoder, decoder } from '../../lib/buffer_utils.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport isObject from '../../lib/is_object.js';\nimport { checkKeyTypeWithJwk } from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nimport validateAlgorithms from '../../lib/validate_algorithms.js';\nimport { isJWK } from '../../lib/is_jwk.js';\nimport { importJWK } from '../../key/import.js';\nexport async function flattenedVerify(jws, key, options) {\n    if (!isObject(jws)) {\n        throw new JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !isObject(jws.header)) {\n        throw new JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = base64url(jws.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jws.header)) {\n        throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && validateAlgorithms('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n        checkKeyTypeWithJwk(alg, key, 'verify');\n        if (isJWK(key)) {\n            key = await importJWK(key, alg);\n        }\n    }\n    else {\n        checkKeyTypeWithJwk(alg, key, 'verify');\n    }\n    const data = concat(encoder.encode(jws.protected ?? ''), encoder.encode('.'), typeof jws.payload === 'string' ? encoder.encode(jws.payload) : jws.payload);\n    let signature;\n    try {\n        signature = base64url(jws.signature);\n    }\n    catch {\n        throw new JWSInvalid('Failed to base64url decode the signature');\n    }\n    const verified = await verify(alg, key, signature, data);\n    if (!verified) {\n        throw new JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = base64url(jws.payload);\n        }\n        catch {\n            throw new JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\n", "import { flattenedVerify } from '../flattened/verify.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await flattenedVerify({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n", "export default (date) => Math.floor(date.getTime() / 1000);\n", "const minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;\nexport default (str) => {\n    const matched = REGEX.exec(str);\n    if (!matched || (matched[4] && matched[1])) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[2]);\n    const unit = matched[3].toLowerCase();\n    let numericDate;\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            numericDate = Math.round(value);\n            break;\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            numericDate = Math.round(value * minute);\n            break;\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            numericDate = Math.round(value * hour);\n            break;\n        case 'day':\n        case 'days':\n        case 'd':\n            numericDate = Math.round(value * day);\n            break;\n        case 'week':\n        case 'weeks':\n        case 'w':\n            numericDate = Math.round(value * week);\n            break;\n        default:\n            numericDate = Math.round(value * year);\n            break;\n    }\n    if (matched[1] === '-' || matched[4] === 'ago') {\n        return -numericDate;\n    }\n    return numericDate;\n};\n", "import { JWTClaimValidationFailed, JWTExpired, JWTInvalid } from '../util/errors.js';\nimport { decoder } from './buffer_utils.js';\nimport epoch from './epoch.js';\nimport secs from './secs.js';\nimport isObject from './is_object.js';\nconst normalizeTyp = (value) => value.toLowerCase().replace(/^application\\//, '');\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexport default (protectedHeader, encodedPayload, options = {}) => {\n    let payload;\n    try {\n        payload = JSON.parse(decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!isObject(payload)) {\n        throw new JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new JWTClaimValidationFailed('unexpected \"typ\" JWT header value', payload, 'typ', 'check_failed');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    const presenceCheck = [...requiredClaims];\n    if (maxTokenAge !== undefined)\n        presenceCheck.push('iat');\n    if (audience !== undefined)\n        presenceCheck.push('aud');\n    if (subject !== undefined)\n        presenceCheck.push('sub');\n    if (issuer !== undefined)\n        presenceCheck.push('iss');\n    for (const claim of new Set(presenceCheck.reverse())) {\n        if (!(claim in payload)) {\n            throw new JWTClaimValidationFailed(`missing required \"${claim}\" claim`, payload, claim, 'missing');\n        }\n    }\n    if (issuer &&\n        !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new JWTClaimValidationFailed('unexpected \"iss\" claim value', payload, 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new JWTClaimValidationFailed('unexpected \"sub\" claim value', payload, 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new JWTClaimValidationFailed('unexpected \"aud\" claim value', payload, 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = secs(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = epoch(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new JWTClaimValidationFailed('\"iat\" claim must be a number', payload, 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new JWTClaimValidationFailed('\"nbf\" claim must be a number', payload, 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', payload, 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new JWTClaimValidationFailed('\"exp\" claim must be a number', payload, 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new JWTExpired('\"exp\" claim timestamp check failed', payload, 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : secs(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', payload, 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', payload, 'iat', 'check_failed');\n        }\n    }\n    return payload;\n};\n", "import { compactVerify } from '../jws/compact/verify.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { JWTInvalid } from '../util/errors.js';\nexport async function jwtVerify(jwt, key, options) {\n    const verified = await compactVerify(jwt, key, options);\n    if (verified.protectedHeader.crit?.includes('b64') && verified.protectedHeader.b64 === false) {\n        throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = jwtPayload(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n", "import { importJWK } from '../key/import.js';\nimport { JWKSInvalid, JOSENotSupported, JWKSNoMatchingKey, JWKSMultipleMatchingKeys, } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nfunction getKtyFromAlg(alg) {\n    switch (typeof alg === 'string' && alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            return 'RSA';\n        case 'ES':\n            return 'EC';\n        case 'Ed':\n            return 'OKP';\n        default:\n            throw new JOSENotSupported('Unsupported \"alg\" value for a JSON Web Key Set');\n    }\n}\nfunction isJWKSLike(jwks) {\n    return (jwks &&\n        typeof jwks === 'object' &&\n        Array.isArray(jwks.keys) &&\n        jwks.keys.every(isJWKLike));\n}\nfunction isJWKLike(key) {\n    return isObject(key);\n}\nfunction clone(obj) {\n    if (typeof structuredClone === 'function') {\n        return structuredClone(obj);\n    }\n    return JSON.parse(JSON.stringify(obj));\n}\nclass LocalJWKSet {\n    constructor(jwks) {\n        this._cached = new WeakMap();\n        if (!isJWKSLike(jwks)) {\n            throw new JWKSInvalid('JSON Web Key Set malformed');\n        }\n        this._jwks = clone(jwks);\n    }\n    async getKey(protectedHeader, token) {\n        const { alg, kid } = { ...protectedHeader, ...token?.header };\n        const kty = getKtyFromAlg(alg);\n        const candidates = this._jwks.keys.filter((jwk) => {\n            let candidate = kty === jwk.kty;\n            if (candidate && typeof kid === 'string') {\n                candidate = kid === jwk.kid;\n            }\n            if (candidate && typeof jwk.alg === 'string') {\n                candidate = alg === jwk.alg;\n            }\n            if (candidate && typeof jwk.use === 'string') {\n                candidate = jwk.use === 'sig';\n            }\n            if (candidate && Array.isArray(jwk.key_ops)) {\n                candidate = jwk.key_ops.includes('verify');\n            }\n            if (candidate && alg === 'EdDSA') {\n                candidate = jwk.crv === 'Ed25519' || jwk.crv === 'Ed448';\n            }\n            if (candidate) {\n                switch (alg) {\n                    case 'ES256':\n                        candidate = jwk.crv === 'P-256';\n                        break;\n                    case 'ES256K':\n                        candidate = jwk.crv === 'secp256k1';\n                        break;\n                    case 'ES384':\n                        candidate = jwk.crv === 'P-384';\n                        break;\n                    case 'ES512':\n                        candidate = jwk.crv === 'P-521';\n                        break;\n                }\n            }\n            return candidate;\n        });\n        const { 0: jwk, length } = candidates;\n        if (length === 0) {\n            throw new JWKSNoMatchingKey();\n        }\n        if (length !== 1) {\n            const error = new JWKSMultipleMatchingKeys();\n            const { _cached } = this;\n            error[Symbol.asyncIterator] = async function* () {\n                for (const jwk of candidates) {\n                    try {\n                        yield await importWithAlgCache(_cached, jwk, alg);\n                    }\n                    catch { }\n                }\n            };\n            throw error;\n        }\n        return importWithAlgCache(this._cached, jwk, alg);\n    }\n}\nasync function importWithAlgCache(cache, jwk, alg) {\n    const cached = cache.get(jwk) || cache.set(jwk, {}).get(jwk);\n    if (cached[alg] === undefined) {\n        const key = await importJWK({ ...jwk, ext: true }, alg);\n        if (key instanceof Uint8Array || key.type !== 'public') {\n            throw new JWKSInvalid('JSON Web Key Set members must be public keys');\n        }\n        cached[alg] = key;\n    }\n    return cached[alg];\n}\nexport function createLocalJWKSet(jwks) {\n    const set = new LocalJWKSet(jwks);\n    const localJWKSet = async (protectedHeader, token) => set.getKey(protectedHeader, token);\n    Object.defineProperties(localJWKSet, {\n        jwks: {\n            value: () => clone(set._jwks),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n    });\n    return localJWKSet;\n}\n", "import { JOSEError, JWKSTimeout } from '../util/errors.js';\nconst fetchJwks = async (url, timeout, options) => {\n    let controller;\n    let id;\n    let timedOut = false;\n    if (typeof AbortController === 'function') {\n        controller = new AbortController();\n        id = setTimeout(() => {\n            timedOut = true;\n            controller.abort();\n        }, timeout);\n    }\n    const response = await fetch(url.href, {\n        signal: controller ? controller.signal : undefined,\n        redirect: 'manual',\n        headers: options.headers,\n    }).catch((err) => {\n        if (timedOut)\n            throw new JWKSTimeout();\n        throw err;\n    });\n    if (id !== undefined)\n        clearTimeout(id);\n    if (response.status !== 200) {\n        throw new JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    try {\n        return await response.json();\n    }\n    catch {\n        throw new JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n};\nexport default fetchJwks;\n", "import fetchJwks from '../runtime/fetch_jwks.js';\nimport { JWKSNoMatchingKey } from '../util/errors.js';\nimport { createLocalJWKSet } from './local.js';\nimport isObject from '../lib/is_object.js';\nfunction isCloudflareWorkers() {\n    return (typeof WebSocketPair !== 'undefined' ||\n        (typeof navigator !== 'undefined' && navigator.userAgent === 'Cloudflare-Workers') ||\n        (typeof EdgeRuntime !== 'undefined' && EdgeRuntime === 'vercel'));\n}\nlet USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'jose';\n    const VERSION = 'v5.9.6';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nexport const jwksCache = Symbol();\nfunction isFreshJwksCache(input, cacheMaxAge) {\n    if (typeof input !== 'object' || input === null) {\n        return false;\n    }\n    if (!('uat' in input) || typeof input.uat !== 'number' || Date.now() - input.uat >= cacheMaxAge) {\n        return false;\n    }\n    if (!('jwks' in input) ||\n        !isObject(input.jwks) ||\n        !Array.isArray(input.jwks.keys) ||\n        !Array.prototype.every.call(input.jwks.keys, isObject)) {\n        return false;\n    }\n    return true;\n}\nclass RemoteJWKSet {\n    constructor(url, options) {\n        if (!(url instanceof URL)) {\n            throw new TypeError('url must be an instance of URL');\n        }\n        this._url = new URL(url.href);\n        this._options = { agent: options?.agent, headers: options?.headers };\n        this._timeoutDuration =\n            typeof options?.timeoutDuration === 'number' ? options?.timeoutDuration : 5000;\n        this._cooldownDuration =\n            typeof options?.cooldownDuration === 'number' ? options?.cooldownDuration : 30000;\n        this._cacheMaxAge = typeof options?.cacheMaxAge === 'number' ? options?.cacheMaxAge : 600000;\n        if (options?.[jwksCache] !== undefined) {\n            this._cache = options?.[jwksCache];\n            if (isFreshJwksCache(options?.[jwksCache], this._cacheMaxAge)) {\n                this._jwksTimestamp = this._cache.uat;\n                this._local = createLocalJWKSet(this._cache.jwks);\n            }\n        }\n    }\n    coolingDown() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cooldownDuration\n            : false;\n    }\n    fresh() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cacheMaxAge\n            : false;\n    }\n    async getKey(protectedHeader, token) {\n        if (!this._local || !this.fresh()) {\n            await this.reload();\n        }\n        try {\n            return await this._local(protectedHeader, token);\n        }\n        catch (err) {\n            if (err instanceof JWKSNoMatchingKey) {\n                if (this.coolingDown() === false) {\n                    await this.reload();\n                    return this._local(protectedHeader, token);\n                }\n            }\n            throw err;\n        }\n    }\n    async reload() {\n        if (this._pendingFetch && isCloudflareWorkers()) {\n            this._pendingFetch = undefined;\n        }\n        const headers = new Headers(this._options.headers);\n        if (USER_AGENT && !headers.has('User-Agent')) {\n            headers.set('User-Agent', USER_AGENT);\n            this._options.headers = Object.fromEntries(headers.entries());\n        }\n        this._pendingFetch || (this._pendingFetch = fetchJwks(this._url, this._timeoutDuration, this._options)\n            .then((json) => {\n            this._local = createLocalJWKSet(json);\n            if (this._cache) {\n                this._cache.uat = Date.now();\n                this._cache.jwks = json;\n            }\n            this._jwksTimestamp = Date.now();\n            this._pendingFetch = undefined;\n        })\n            .catch((err) => {\n            this._pendingFetch = undefined;\n            throw err;\n        }));\n        await this._pendingFetch;\n    }\n}\nexport function createRemoteJWKSet(url, options) {\n    const set = new RemoteJWKSet(url, options);\n    const remoteJWKSet = async (protectedHeader, token) => set.getKey(protectedHeader, token);\n    Object.defineProperties(remoteJWKSet, {\n        coolingDown: {\n            get: () => set.coolingDown(),\n            enumerable: true,\n            configurable: false,\n        },\n        fresh: {\n            get: () => set.fresh(),\n            enumerable: true,\n            configurable: false,\n        },\n        reload: {\n            value: () => set.reload(),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n        reloading: {\n            get: () => !!set._pendingFetch,\n            enumerable: true,\n            configurable: false,\n        },\n        jwks: {\n            value: () => set._local?.jwks(),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n    });\n    return remoteJWKSet;\n}\nexport const experimental_jwksCache = jwksCache;\n", "import * as base64url from '../runtime/base64url.js';\nexport const encode = base64url.encode;\nexport const decode = base64url.decode;\n", "import { LogtoError } from '@logto/js';\nimport { createRemoteJWKSet, jwtVerify } from 'jose';\n\nconst defaultClockTolerance = 300; // 5 minutes\nconst verifyIdToken = async (idToken, clientId, issuer, jwks, clockTolerance = defaultClockTolerance) => {\n    const result = await jwtVerify(idToken, jwks, { audience: clientId, issuer, clockTolerance });\n    if (Math.abs((result.payload.iat ?? 0) - Date.now() / 1000) > clockTolerance) {\n        throw new LogtoError('id_token.invalid_iat');\n    }\n};\nclass DefaultJwtVerifier {\n    constructor(client, clockTolerance = defaultClockTolerance) {\n        this.client = client;\n        this.clockTolerance = clockTolerance;\n    }\n    async verifyIdToken(idToken) {\n        const { appId } = this.client.logtoConfig;\n        const { issuer, jwksUri } = await this.client.getOidcConfig();\n        this.getJwtVerifyGetKey ||= createRemoteJWKSet(new URL(jwksUri));\n        await verifyIdToken(idToken, appId, issuer, this.getJwtVerifyGetKey, this.clockTolerance);\n    }\n}\n\nexport { DefaultJwtVerifier, defaultClockTolerance, verifyIdToken };\n", "var PersistKey;\n(function (PersistKey) {\n    PersistKey[\"IdToken\"] = \"idToken\";\n    PersistKey[\"RefreshToken\"] = \"refreshToken\";\n    PersistKey[\"AccessToken\"] = \"accessToken\";\n    PersistKey[\"SignInSession\"] = \"signInSession\";\n})(PersistKey || (PersistKey = {}));\nvar CacheKey;\n(function (CacheKey) {\n    /**\n     * OpenID Configuration endpoint response.\n     *\n     * @see {@link https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfigurationResponse | OpenID Connect Discovery 1.0}\n     */\n    CacheKey[\"OpenidConfig\"] = \"openidConfiguration\";\n    /**\n     * The content of OpenID Provider's `jwks_uri` (JSON Web Key Set).\n     *\n     * @see {@link https://openid.net/specs/openid-connect-discovery-1_0-21.html#ProviderMetadata | OpenID Connect Discovery 1.0}\n     */\n    CacheKey[\"Jwks\"] = \"jwks\";\n})(CacheKey || (CacheKey = {}));\n\nexport { CacheKey, PersistKey };\n", "import { trySafe, conditional } from '@silverhand/essentials';\nexport { CacheKey, PersistKey } from './types.js';\n\nclass ClientAdapterInstance {\n    /* END OF IMPLEMENTATION */\n    constructor(adapter) {\n        // eslint-disable-next-line @silverhand/fp/no-mutating-assign\n        Object.assign(this, adapter);\n    }\n    async setStorageItem(key, value) {\n        if (!value) {\n            await this.storage.removeItem(key);\n            return;\n        }\n        await this.storage.setItem(key, value);\n    }\n    /**\n     * Try to get the string value from the cache and parse as JSON.\n     * Return the parsed value if it is an object, return `undefined` otherwise.\n     *\n     * @param key The cache key to get value from.\n     */\n    async getCachedObject(key) {\n        const cached = await trySafe(async () => {\n            const data = await this.unstable_cache?.getItem(key);\n            // It's actually `unknown`\n            // eslint-disable-next-line no-restricted-syntax\n            return conditional(data && JSON.parse(data));\n        });\n        if (cached && typeof cached === 'object') {\n            // Trust cache for now\n            // eslint-disable-next-line no-restricted-syntax\n            return cached;\n        }\n    }\n    /**\n     * Try to get the value from the cache first, if it doesn't exist in cache,\n     * run the getter function and store the result into cache.\n     *\n     * @param key The cache key to get value from.\n     */\n    async getWithCache(key, getter) {\n        const cached = await this.getCachedObject(key);\n        if (cached) {\n            return cached;\n        }\n        const result = await getter();\n        await this.unstable_cache?.setItem(key, JSON.stringify(result));\n        return result;\n    }\n}\n\nexport { ClientAdapterInstance };\n", "import { UserScope } from '@logto/js';\n\nconst logtoClientErrorCodes = Object.freeze({\n    'sign_in_session.invalid': 'Invalid sign-in session.',\n    'sign_in_session.not_found': 'Sign-in session not found.',\n    not_authenticated: 'Not authenticated.',\n    fetch_user_info_failed: 'Unable to fetch user info. The access token may be invalid.',\n    user_cancelled: 'The user cancelled the action.',\n    missing_scope_organizations: `The \\`${UserScope.Organizations}\\` scope is required`,\n});\nclass LogtoClientError extends Error {\n    constructor(code, data) {\n        super(logtoClientErrorCodes[code]);\n        this.name = 'LogtoClientError';\n        this.code = code;\n        this.data = data;\n    }\n}\n\nexport { LogtoClientError };\n", "import { Prompt, withReservedScopes, UserScope, ReservedResource, isArbitraryObject } from '@logto/js';\nimport { deduplicate } from '@silverhand/essentials';\n\n/**\n * Normalize the Logto client configuration per the following rules:\n *\n * - Add default scopes (`openid`, `offline_access` and `profile`) if not provided and\n * `includeReservedScopes` is `true`.\n * - Add {@link ReservedResource.Organization} to resources if {@link UserScope.Organizations} is\n * included in scopes.\n *\n * @param config The Logto client configuration to be normalized.\n * @returns The normalized Logto client configuration.\n */\nconst normalizeLogtoConfig = (config) => {\n    const { prompt = Prompt.Consent, scopes = [], resources, ...rest } = config;\n    const includeReservedScopes = config.includeReservedScopes ?? true;\n    return {\n        ...rest,\n        prompt,\n        scopes: includeReservedScopes ? withReservedScopes(scopes).split(' ') : scopes,\n        resources: scopes.includes(UserScope.Organizations)\n            ? deduplicate([...(resources ?? []), ReservedResource.Organization])\n            : resources,\n    };\n};\nconst isLogtoSignInSessionItem = (data) => {\n    if (!isArbitraryObject(data)) {\n        return false;\n    }\n    return ['redirectUri', 'codeVerifier', 'state'].every((key) => typeof data[key] === 'string');\n};\nconst isLogtoAccessTokenMap = (data) => {\n    if (!isArbitraryObject(data)) {\n        return false;\n    }\n    return Object.values(data).every((value) => {\n        if (!isArbitraryObject(value)) {\n            return false;\n        }\n        return (typeof value.token === 'string' &&\n            typeof value.scope === 'string' &&\n            typeof value.expiresAt === 'number');\n    });\n};\n\nexport { isLogtoAccessTokenMap, isLogtoSignInSessionItem, normalizeLogtoConfig };\n", "import { discoveryPath } from '@logto/js';\nimport { conditionalString } from '@silverhand/essentials';\n\nconst buildAccessTokenKey = (resource = '', organizationId, scopes = []) => `${scopes.slice().sort().join(' ')}@${resource}${conditionalString(organizationId && `#${organizationId}`)}`;\nconst getDiscoveryEndpoint = (endpoint) => new URL(discoveryPath, endpoint).toString();\n\nexport { buildAccessTokenKey, getDiscoveryEndpoint };\n", "function memoize(run) {\n    const promiseCache = new Map();\n    const memoized = async function (...args) {\n        const promiseKey = JSON.stringify(args);\n        const cachedPromise = promiseCache.get(promiseKey);\n        if (cachedPromise) {\n            return cachedPromise;\n        }\n        const promise = (async () => {\n            try {\n                return await run.apply(this, args);\n            }\n            finally {\n                promiseCache.delete(promiseKey);\n            }\n        })();\n        promiseCache.set(promiseKey, promise);\n        return promise;\n    };\n    return memoized;\n}\n\nexport { memoize };\n", "// TODO @sijie move to essentials\n/* eslint-disable @silverhand/fp/no-let */\n/* eslint-disable @silverhand/fp/no-mutation */\nfunction once(function_) {\n    let called = false;\n    let result;\n    return function (...args) {\n        if (!called) {\n            called = true;\n            result = function_.apply(this, args);\n        }\n        return result;\n    };\n}\n/* eslint-enable @silverhand/fp/no-mutation */\n/* eslint-enable @silverhand/fp/no-let */\n\nexport { once };\n", "import { decodeIdToken, decodeAccessToken, fetchUserInfo, generateSignInUri, revoke, generateSignOutUri, fetchTokenByRefreshToken, fetchOidcConfig, UserScope, verifyAndParseCodeFromCallbackUri, fetchTokenByAuthorizationCode } from '@logto/js';\nimport { ClientAdapterInstance } from './adapter/index.js';\nimport { LogtoClientError } from './errors.js';\nimport { normalizeLogtoConfig, isLogtoSignInSessionItem, isLogtoAccessTokenMap } from './types/index.js';\nimport { buildAccessTokenKey, getDiscoveryEndpoint } from './utils/index.js';\nimport { memoize } from './utils/memoize.js';\nimport { once } from './utils/once.js';\nimport { PersistKey, CacheKey } from './adapter/types.js';\n\n/* eslint-disable max-lines */\n/**\n * The Logto base client class that provides the essential methods for\n * interacting with the Logto server.\n *\n * It also provides an adapter object that allows the customizations of the\n * client behavior for different environments.\n *\n * NOTE: Usually, you would use the `LogtoClient` class instead of `StandardLogtoClient` since it\n * provides the default JWT verifier. However, if you want to avoid the use of `jose` package\n * which is useful for certain environments that don't support native modules like `crypto`, you\n * can use `StandardLogtoClient` and provide your own JWT verifier.\n */\nclass StandardLogtoClient {\n    get jwtVerifier() {\n        return this.jwtVerifierInstance;\n    }\n    constructor(logtoConfig, adapter, buildJwtVerifier) {\n        /**\n         * Get the OIDC configuration from the discovery endpoint. This method will\n         * only fetch the configuration once and cache the result.\n         */\n        this.getOidcConfig = once(this.#getOidcConfig);\n        /**\n         * Get the access token from the storage with refresh strategy.\n         *\n         * - If the access token has expired, it will try to fetch a new one using the Refresh Token.\n         * - If there's an ongoing Promise to fetch the access token, it will return the Promise.\n         *\n         * If you want to get the access token claims, use {@link getAccessTokenClaims} instead.\n         *\n         * @param resource The resource that the access token is granted for. If not\n         * specified, the access token will be used for OpenID Connect or the default\n         * resource, as specified in the Logto Console.\n         * @returns The access token string.\n         * @throws LogtoClientError if the user is not authenticated.\n         */\n        this.getAccessToken = memoize(this.#getAccessToken);\n        /**\n         * Get the access token for the specified organization from the storage with refresh strategy.\n         *\n         * Scope {@link UserScope.Organizations} is required in the config to use organization-related\n         * methods.\n         *\n         * @param organizationId The ID of the organization that the access token is granted for.\n         * @returns The access token string.\n         * @throws LogtoClientError if the user is not authenticated.\n         * @remarks\n         * It uses the same refresh strategy as {@link getAccessToken}.\n         */\n        this.getOrganizationToken = memoize(this.#getOrganizationToken);\n        /**\n         * Clear the access token from the cache storage.\n         */\n        this.clearAccessToken = memoize(this.#clearAccessToken);\n        /**\n         * Clear all cached tokens from storage.\n         */\n        this.clearAllTokens = memoize(this.#clearAllTokens);\n        /**\n         * Handle the sign-in callback by parsing the authorization code from the\n         * callback URI and exchanging it for the tokens.\n         *\n         * @param callbackUri The callback URI, including the search params, that the user is redirected to after the sign-in flow is completed.\n         * The origin and pathname of this URI must match the origin and pathname of the redirect URI specified in {@link signIn}.\n         * In many cases you'll probably end up passing `window.location.href` as the argument to this function.\n         * @throws LogtoClientError if the sign-in session is not found.\n         */\n        this.handleSignInCallback = memoize(this.#handleSignInCallback);\n        this.accessTokenMap = new Map();\n        this.logtoConfig = normalizeLogtoConfig(logtoConfig);\n        this.adapter = new ClientAdapterInstance(adapter);\n        this.jwtVerifierInstance = buildJwtVerifier(this);\n        void this.loadAccessTokenMap();\n    }\n    /**\n     * Set the JWT verifier for the client.\n     * @param buildJwtVerifier The JWT verifier instance or a function that returns the JWT verifier instance.\n     */\n    setJwtVerifier(buildJwtVerifier) {\n        this.jwtVerifierInstance =\n            typeof buildJwtVerifier === 'function' ? buildJwtVerifier(this) : buildJwtVerifier;\n    }\n    /**\n     * Check if the user is authenticated by checking if the ID token exists.\n     */\n    async isAuthenticated() {\n        return Boolean(await this.getIdToken());\n    }\n    /**\n     * Get the Refresh Token from the storage.\n     */\n    async getRefreshToken() {\n        return this.adapter.storage.getItem('refreshToken');\n    }\n    /**\n     * Get the ID Token from the storage. If you want to get the ID Token claims,\n     * use {@link getIdTokenClaims} instead.\n     */\n    async getIdToken() {\n        return this.adapter.storage.getItem('idToken');\n    }\n    /**\n     * Get the ID Token claims.\n     */\n    async getIdTokenClaims() {\n        const idToken = await this.getIdToken();\n        if (!idToken) {\n            throw new LogtoClientError('not_authenticated');\n        }\n        return decodeIdToken(idToken);\n    }\n    /**\n     * Get the access token claims for the specified resource.\n     *\n     * @param resource The resource that the access token is granted for. If not\n     * specified, the access token will be used for OpenID Connect or the default\n     * resource, as specified in the Logto Console.\n     */\n    async getAccessTokenClaims(resource) {\n        const accessToken = await this.getAccessToken(resource);\n        return decodeAccessToken(accessToken);\n    }\n    /**\n     * Get the organization token claims for the specified organization.\n     *\n     * @param organizationId The ID of the organization that the access token is granted for.\n     */\n    async getOrganizationTokenClaims(organizationId) {\n        const accessToken = await this.getOrganizationToken(organizationId);\n        return decodeAccessToken(accessToken);\n    }\n    /**\n     * Get the user information from the Userinfo Endpoint.\n     *\n     * Note the Userinfo Endpoint will return more claims than the ID Token. See\n     * {@link https://docs.logto.io/docs/recipes/integrate-logto/vanilla-js/#fetch-user-information | Fetch user information}\n     * for more information.\n     *\n     * @returns The user information.\n     * @throws LogtoClientError if the user is not authenticated.\n     */\n    async fetchUserInfo() {\n        const { userinfoEndpoint } = await this.getOidcConfig();\n        const accessToken = await this.getAccessToken();\n        if (!accessToken) {\n            throw new LogtoClientError('fetch_user_info_failed');\n        }\n        return fetchUserInfo(userinfoEndpoint, accessToken, this.adapter.requester);\n    }\n    async signIn(options, mode, hint) {\n        const { redirectUri: redirectUriUrl, postRedirectUri: postRedirectUriUrl, firstScreen, identifiers, interactionMode, loginHint, directSignIn, extraParams, prompt, } = typeof options === 'string' || options instanceof URL\n            ? {\n                redirectUri: options,\n                postRedirectUri: undefined,\n                firstScreen: undefined,\n                identifiers: undefined,\n                interactionMode: mode,\n                loginHint: hint,\n                directSignIn: undefined,\n                extraParams: undefined,\n                prompt: undefined,\n            }\n            : options;\n        const redirectUri = redirectUriUrl.toString();\n        const postRedirectUri = postRedirectUriUrl?.toString();\n        const { appId: clientId, prompt: promptViaConfig, resources, scopes } = this.logtoConfig;\n        const { authorizationEndpoint } = await this.getOidcConfig();\n        const [codeVerifier, state] = await Promise.all([\n            this.adapter.generateCodeVerifier(),\n            this.adapter.generateState(),\n        ]);\n        const codeChallenge = await this.adapter.generateCodeChallenge(codeVerifier);\n        const signInUri = generateSignInUri({\n            authorizationEndpoint,\n            clientId,\n            redirectUri: redirectUri.toString(),\n            codeChallenge,\n            state,\n            scopes,\n            resources,\n            prompt: prompt ?? promptViaConfig,\n            firstScreen,\n            identifiers,\n            interactionMode,\n            loginHint,\n            directSignIn,\n            extraParams,\n        });\n        await Promise.all([\n            this.setSignInSession({ redirectUri, postRedirectUri, codeVerifier, state }),\n            this.clearAllTokens(),\n        ]);\n        await this.adapter.navigate(signInUri, { redirectUri, for: 'sign-in' });\n    }\n    /**\n     * Check if the user is redirected from the sign-in page by checking if the\n     * current URL matches the redirect URI in the sign-in session.\n     *\n     * If there's no sign-in session, it will return `false`.\n     *\n     * @param url The current URL.\n     */\n    async isSignInRedirected(url) {\n        const signInSession = await this.getSignInSession();\n        if (!signInSession) {\n            return false;\n        }\n        const { redirectUri } = signInSession;\n        const { origin, pathname } = new URL(url);\n        return `${origin}${pathname}` === redirectUri;\n    }\n    /**\n     * Start the sign-out flow with the specified redirect URI. The URI must be\n     * registered in the Logto Console.\n     *\n     * It will also revoke all the tokens and clean up the storage.\n     *\n     * The user will be redirected that URI after the sign-out flow is completed.\n     * If the `postLogoutRedirectUri` is not specified, the user will be redirected\n     * to a default page.\n     */\n    async signOut(postLogoutRedirectUri) {\n        const { appId: clientId } = this.logtoConfig;\n        const { endSessionEndpoint, revocationEndpoint } = await this.getOidcConfig();\n        const refreshToken = await this.getRefreshToken();\n        if (refreshToken) {\n            try {\n                await revoke(revocationEndpoint, clientId, refreshToken, this.adapter.requester);\n            }\n            catch {\n                // Do nothing at this point, as we don't want to break the sign-out flow even if the revocation is failed\n            }\n        }\n        const url = generateSignOutUri({\n            endSessionEndpoint,\n            postLogoutRedirectUri,\n            clientId,\n        });\n        await this.clearAllTokens();\n        await this.adapter.navigate(url, { redirectUri: postLogoutRedirectUri, for: 'sign-out' });\n    }\n    async getSignInSession() {\n        const jsonItem = await this.adapter.storage.getItem('signInSession');\n        if (!jsonItem) {\n            return null;\n        }\n        const item = JSON.parse(jsonItem);\n        if (!isLogtoSignInSessionItem(item)) {\n            throw new LogtoClientError('sign_in_session.invalid');\n        }\n        return item;\n    }\n    async setSignInSession(value) {\n        return this.adapter.setStorageItem(PersistKey.SignInSession, value && JSON.stringify(value));\n    }\n    async setIdToken(value) {\n        return this.adapter.setStorageItem(PersistKey.IdToken, value);\n    }\n    async setRefreshToken(value) {\n        return this.adapter.setStorageItem(PersistKey.RefreshToken, value);\n    }\n    async getAccessTokenByRefreshToken(resource, organizationId) {\n        const currentRefreshToken = await this.getRefreshToken();\n        if (!currentRefreshToken) {\n            throw new LogtoClientError('not_authenticated');\n        }\n        const accessTokenKey = buildAccessTokenKey(resource, organizationId);\n        const { appId: clientId } = this.logtoConfig;\n        const { tokenEndpoint } = await this.getOidcConfig();\n        const requestedAt = Math.round(Date.now() / 1000);\n        const { accessToken, refreshToken, idToken, scope, expiresIn } = await fetchTokenByRefreshToken({\n            clientId,\n            tokenEndpoint,\n            refreshToken: currentRefreshToken,\n            resource,\n            organizationId,\n        }, this.adapter.requester);\n        this.accessTokenMap.set(accessTokenKey, {\n            token: accessToken,\n            scope,\n            /** The `expiresAt` variable provides an approximate estimation of the actual `exp` property\n             * in the token claims. It is utilized by the client to determine if the cached access token\n             * has expired and when a new access token should be requested.\n             */\n            expiresAt: requestedAt + expiresIn,\n        });\n        await this.saveAccessTokenMap();\n        if (refreshToken) {\n            await this.setRefreshToken(refreshToken);\n        }\n        if (idToken) {\n            await this.jwtVerifier.verifyIdToken(idToken);\n            await this.setIdToken(idToken);\n        }\n        return accessToken;\n    }\n    async saveAccessTokenMap() {\n        const data = {};\n        for (const [key, accessToken] of this.accessTokenMap.entries()) {\n            // eslint-disable-next-line @silverhand/fp/no-mutation\n            data[key] = accessToken;\n        }\n        await this.adapter.storage.setItem('accessToken', JSON.stringify(data));\n    }\n    async loadAccessTokenMap() {\n        const raw = await this.adapter.storage.getItem('accessToken');\n        if (!raw) {\n            return;\n        }\n        try {\n            const json = JSON.parse(raw);\n            if (!isLogtoAccessTokenMap(json)) {\n                return;\n            }\n            this.accessTokenMap.clear();\n            for (const [key, accessToken] of Object.entries(json)) {\n                this.accessTokenMap.set(key, accessToken);\n            }\n        }\n        catch (error) {\n            console.warn(error);\n        }\n    }\n    async #getOidcConfig() {\n        return this.adapter.getWithCache(CacheKey.OpenidConfig, async () => {\n            return fetchOidcConfig(getDiscoveryEndpoint(this.logtoConfig.endpoint), this.adapter.requester);\n        });\n    }\n    async #getAccessToken(resource, organizationId) {\n        if (!(await this.isAuthenticated())) {\n            throw new LogtoClientError('not_authenticated');\n        }\n        const accessTokenKey = buildAccessTokenKey(resource, organizationId);\n        const accessToken = this.accessTokenMap.get(accessTokenKey);\n        if (accessToken && accessToken.expiresAt > Date.now() / 1000) {\n            return accessToken.token;\n        }\n        // Since the access token has expired, delete it from the map.\n        if (accessToken) {\n            this.accessTokenMap.delete(accessTokenKey);\n        }\n        /**\n         * Need to fetch a new access token using refresh token.\n         */\n        return this.getAccessTokenByRefreshToken(resource, organizationId);\n    }\n    async #getOrganizationToken(organizationId) {\n        if (!this.logtoConfig.scopes?.includes(UserScope.Organizations)) {\n            throw new LogtoClientError('missing_scope_organizations');\n        }\n        return this.getAccessToken(undefined, organizationId);\n    }\n    async #clearAccessToken() {\n        this.accessTokenMap.clear();\n        await this.adapter.storage.removeItem('accessToken');\n    }\n    async #clearAllTokens() {\n        await Promise.all([this.setRefreshToken(null), this.setIdToken(null), this.clearAccessToken()]);\n    }\n    async #handleSignInCallback(callbackUri) {\n        const signInSession = await this.getSignInSession();\n        if (!signInSession) {\n            throw new LogtoClientError('sign_in_session.not_found');\n        }\n        const { redirectUri, postRedirectUri, state, codeVerifier } = signInSession;\n        const code = verifyAndParseCodeFromCallbackUri(callbackUri, redirectUri, state);\n        // NOTE: Will add scope to accessTokenKey when needed. (Linear issue LOG-1589)\n        const accessTokenKey = buildAccessTokenKey();\n        const { appId: clientId } = this.logtoConfig;\n        const { tokenEndpoint } = await this.getOidcConfig();\n        const requestedAt = Math.round(Date.now() / 1000);\n        const { idToken, refreshToken, accessToken, scope, expiresIn } = await fetchTokenByAuthorizationCode({\n            clientId,\n            tokenEndpoint,\n            redirectUri,\n            codeVerifier,\n            code,\n        }, this.adapter.requester);\n        await this.jwtVerifier.verifyIdToken(idToken);\n        await this.setRefreshToken(refreshToken ?? null);\n        await this.setIdToken(idToken);\n        this.accessTokenMap.set(accessTokenKey, {\n            token: accessToken,\n            scope,\n            /** The `expiresAt` variable provides an approximate estimation of the actual `exp` property\n             * in the token claims. It is utilized by the client to determine if the cached access token\n             * has expired and when a new access token should be requested.\n             */\n            expiresAt: requestedAt + expiresIn,\n        });\n        await this.saveAccessTokenMap();\n        await this.setSignInSession(null);\n        if (postRedirectUri) {\n            await this.adapter.navigate(postRedirectUri, { for: 'post-sign-in' });\n        }\n    }\n}\n/* eslint-enable max-lines */\n\nexport { StandardLogtoClient };\n", "import { isLogtoRequestErrorJson, LogtoError, LogtoRequestError } from '@logto/js';\n\n/**\n * A factory function that creates a requester by accepting a `fetch`-like function.\n *\n * @param fetchFunction A `fetch`-like function.\n * @returns A requester function.\n * @see {@link Requester}\n */\nconst createRequester = (fetchFunction) => {\n    return async (...args) => {\n        const response = await fetchFunction(...args);\n        if (!response.ok) {\n            const cloned = response.clone();\n            const responseJson = await response.json();\n            console.error(`Logto requester error: [status=${response.status}]`, responseJson);\n            if (!isLogtoRequestErrorJson(responseJson)) {\n                throw new LogtoError('unexpected_response_error', responseJson);\n            }\n            // Expected request error from server\n            const { code, message } = responseJson;\n            throw new LogtoRequestError(code, message, cloned);\n        }\n        return response.json();\n    };\n};\n\nexport { createRequester };\n", "import { DefaultJwtVerifier } from './adapter/defaults.js';\nimport { StandardLogtoClient } from './client.js';\nexport { LogtoError, LogtoRequestError, OidcError, Prompt, ReservedResource, ReservedScope, UserScope, buildOrganizationUrn, getOrganizationIdFromUrn, isLogtoRequestError, organizationUrnPrefix } from '@logto/js';\nexport { LogtoClientError } from './errors.js';\nimport '@silverhand/essentials';\nexport { CacheKey, PersistKey } from './adapter/types.js';\nexport { createRequester } from './utils/requester.js';\nexport { isLogtoAccessTokenMap, isLogtoSignInSessionItem, normalizeLogtoConfig } from './types/index.js';\n\n/**\n * The Logto base client class that provides the essential methods for\n * interacting with the Logto server.\n *\n * It also provides an adapter object that allows the customizations of the\n * client behavior for different environments.\n */\nclass LogtoClient extends StandardLogtoClient {\n    constructor(logtoConfig, adapter, buildJwtVerifier) {\n        super(logtoConfig, adapter, buildJwtVerifier ?? ((client) => new DefaultJwtVerifier(client)));\n    }\n}\n\nexport { StandardLogtoClient, LogtoClient as default };\n", "const keyPrefix = `logto_cache`;\nclass CacheStorage {\n    constructor(appId) {\n        this.appId = appId;\n    }\n    getKey(item) {\n        if (item === undefined) {\n            return `${keyPrefix}:${this.appId}`;\n        }\n        return `${keyPrefix}:${this.appId}:${item}`;\n    }\n    async getItem(key) {\n        return sessionStorage.getItem(this.getKey(key));\n    }\n    async setItem(key, value) {\n        sessionStorage.setItem(this.getKey(key), value);\n    }\n    async removeItem(key) {\n        sessionStorage.removeItem(`${this.getKey(key)}`);\n    }\n}\n\nexport { CacheStorage };\n", "const keyPrefix = `logto`;\nclass BrowserStorage {\n    constructor(appId) {\n        this.appId = appId;\n    }\n    getKey(item) {\n        if (item === undefined) {\n            return `${keyPrefix}:${this.appId}`;\n        }\n        return `${keyPrefix}:${this.appId}:${item}`;\n    }\n    async getItem(key) {\n        if (key === 'signInSession') {\n            // The latter `getItem()` is for backward compatibility. Can be removed when major bump.\n            return sessionStorage.getItem(this.getKey(key)) ?? sessionStorage.getItem(this.getKey());\n        }\n        return localStorage.getItem(this.getKey(key));\n    }\n    async setItem(key, value) {\n        if (key === 'signInSession') {\n            sessionStorage.setItem(this.getKey(key), value);\n            return;\n        }\n        localStorage.setItem(this.getKey(key), value);\n    }\n    async removeItem(key) {\n        if (key === 'signInSession') {\n            sessionStorage.removeItem(this.getKey(key));\n            return;\n        }\n        localStorage.removeItem(this.getKey(key));\n    }\n}\n\nexport { BrowserStorage };\n", "/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.7.7';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = Array.prototype.slice.call(b64ch);\nconst b64tab = ((a) => {\n    let tab = {};\n    a.forEach((c, i) => tab[c] = i);\n    return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it) => new Uint8Array(Array.prototype.slice.call(it, 0));\nconst _mkUriSafe = (src) => src\n    .replace(/=/g, '').replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = (bin) => {\n    // console.log('polyfilled');\n    let u32, c0, c1, c2, asc = '';\n    const pad = bin.length % 3;\n    for (let i = 0; i < bin.length;) {\n        if ((c0 = bin.charCodeAt(i++)) > 255 ||\n            (c1 = bin.charCodeAt(i++)) > 255 ||\n            (c2 = bin.charCodeAt(i++)) > 255)\n            throw new TypeError('invalid character found');\n        u32 = (c0 << 16) | (c1 << 8) | c2;\n        asc += b64chs[u32 >> 18 & 63]\n            + b64chs[u32 >> 12 & 63]\n            + b64chs[u32 >> 6 & 63]\n            + b64chs[u32 & 63];\n    }\n    return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = typeof btoa === 'function' ? (bin) => btoa(bin)\n    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')\n        : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return _btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 5\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = (c) => {\n    if (c.length < 2) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c\n            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))\n                + _fromCC(0x80 | (cc & 0x3f)))\n                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))\n                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n                    + _fromCC(0x80 | (cc & 0x3f)));\n    }\n    else {\n        var cc = 0x10000\n            + (c.charCodeAt(0) - 0xD800) * 0x400\n            + (c.charCodeAt(1) - 0xDC00);\n        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))\n            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))\n            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n            + _fromCC(0x80 | (cc & 0x3f)));\n    }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (u) => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : _TE\n        ? (s) => _fromUint8Array(_TE.encode(s))\n        : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe\n    ? _mkUriSafe(_encode(src))\n    : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 5.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = (cccc) => {\n    switch (cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                | ((0x3f & cccc.charCodeAt(1)) << 12)\n                | ((0x3f & cccc.charCodeAt(2)) << 6)\n                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;\n            return (_fromCC((offset >>> 10) + 0xD800)\n                + _fromCC((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)\n                | ((0x3f & cccc.charCodeAt(1)) << 6)\n                | (0x3f & cccc.charCodeAt(2)));\n        default:\n            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)\n                | (0x3f & cccc.charCodeAt(1)));\n    }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (b) => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = (asc) => {\n    // console.log('polyfilled');\n    asc = asc.replace(/\\s+/g, '');\n    if (!b64re.test(asc))\n        throw new TypeError('malformed base64.');\n    asc += '=='.slice(2 - (asc.length & 3));\n    let u24, bin = '', r1, r2;\n    for (let i = 0; i < asc.length;) {\n        u24 = b64tab[asc.charAt(i++)] << 18\n            | b64tab[asc.charAt(i++)] << 12\n            | (r1 = b64tab[asc.charAt(i++)]) << 6\n            | (r2 = b64tab[asc.charAt(i++)]);\n        bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)\n            : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)\n                : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n    }\n    return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = typeof atob === 'function' ? (asc) => atob(_tidyB64(asc))\n    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')\n        : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))\n    : (a) => _U8Afrom(_atob(a).split('').map(c => c.charCodeAt(0)));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = (a) => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : _TD\n        ? (a) => _TD.decode(_toUint8Array(a))\n        : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = (src) => {\n    if (typeof src !== 'string')\n        return false;\n    const s = src.replace(/\\s+/g, '').replace(/={0,2}$/, '');\n    return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () { return decode(this); });\n    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });\n    _add('toBase64URI', function () { return encode(this, true); });\n    _add('toBase64URL', function () { return encode(this, true); });\n    _add('toUint8Array', function () { return toUint8Array(this); });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });\n    _add('toBase64URI', function () { return fromUint8Array(this, true); });\n    _add('toBase64URL', function () { return fromUint8Array(this, true); });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    atobPolyfill: atobPolyfill,\n    btoa: _btoa,\n    btoaPolyfill: btoaPolyfill,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    isValid: isValid,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { atobPolyfill };\nexport { _btoa as btoa };\nexport { btoaPolyfill };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { isValid };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n", "import { LogtoError } from '@logto/client';\nimport { fromUint8Array } from 'js-base64';\n\n/** @link [Proof Key for Code Exchange by OAuth Public Clients](https://datatracker.ietf.org/doc/html/rfc7636) */\n/**\n * @param length The length of the raw random data.\n */\nconst generateRandomString = (length = 64) => fromUint8Array(crypto.getRandomValues(new Uint8Array(length)), true);\n/**\n * Generates random string for state and encodes them in url safe base64\n */\nconst generateState = () => generateRandomString();\n/**\n * Generates code verifier\n *\n * @link [Client Creates a Code Verifier](https://datatracker.ietf.org/doc/html/rfc7636#section-4.1)\n */\nconst generateCodeVerifier = () => generateRandomString();\n/**\n * Calculates the S256 PKCE code challenge for an arbitrary code verifier and encodes it in url safe base64\n *\n * @param {String} codeVerifier Code verifier to calculate the S256 code challenge for\n * @link [Client Creates the Code Challenge](https://datatracker.ietf.org/doc/html/rfc7636#section-4.2)\n */\nconst generateCodeChallenge = async (codeVerifier) => {\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (crypto.subtle === undefined) {\n        /**\n         * `crypto.subtle` is available only in secure contexts (HTTPS) in some or all supporting browsers,\n         * https://developer.mozilla.org/en-US/docs/Web/API/Crypto/subtle\n         * https://www.chromium.org/blink/webcrypto/#accessing-it\n         */\n        throw new LogtoError('crypto_subtle_unavailable');\n    }\n    const encodedCodeVerifier = new TextEncoder().encode(codeVerifier);\n    const codeChallenge = new Uint8Array(await crypto.subtle.digest('SHA-256', encodedCodeVerifier));\n    return fromUint8Array(codeChallenge, true);\n};\n\nexport { generateCodeChallenge, generateCodeVerifier, generateState };\n", "import BaseClient, { createRequester } from '@logto/client';\nexport { default as BaseClient, LogtoClientError, LogtoError, LogtoRequestError, OidcError, PersistKey, Prompt, ReservedResource, ReservedScope, UserScope, buildOrganizationUrn, createRequester, getOrganizationIdFromUrn, isLogtoRequestError, organizationUrnPrefix } from '@logto/client';\nimport { conditional } from '@silverhand/essentials';\nimport { CacheStorage } from './cache.js';\nimport { BrowserStorage } from './storage.js';\nimport { generateCodeChallenge, generateCodeVerifier, generateState } from './utils/generators.js';\n\nconst navigate = (url) => {\n    window.location.assign(url);\n};\nclass LogtoClient extends BaseClient {\n    /**\n     * @param config The configuration object for the client.\n     * @param [unstable_enableCache=false] Whether to enable cache for well-known data.\n     * Use sessionStorage by default.\n     */\n    constructor(config, unstable_enableCache = false) {\n        const requester = createRequester(fetch);\n        super(config, {\n            requester,\n            navigate,\n            storage: new BrowserStorage(config.appId),\n            unstable_cache: conditional(unstable_enableCache && new CacheStorage(config.appId)),\n            generateCodeChallenge,\n            generateCodeVerifier,\n            generateState,\n        });\n    }\n}\n\nexport { BrowserStorage, LogtoClient as default, generateCodeChallenge, generateCodeVerifier, generateState };\n", "import { jsx } from 'react/jsx-runtime';\nimport LogtoClient from '@logto/browser';\nimport { useState, useMemo, useCallback, useEffect } from 'react';\nimport { LogtoContext } from './context.js';\n\nconst LogtoProvider = ({ config, LogtoClientClass = LogtoClient, children, unstable_enableCache = false, }) => {\n    const [loadingCount, setLoadingCount] = useState(1);\n    const memorizedLogtoClient = useMemo(() => ({ logtoClient: new LogtoClientClass(config, unstable_enableCache) }), [LogtoClientClass, config, unstable_enableCache]);\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [error, setError] = useState();\n    const isLoading = useMemo(() => loadingCount > 0, [loadingCount]);\n    const setIsLoading = useCallback((state) => {\n        if (state) {\n            setLoadingCount((count) => count + 1);\n        }\n        else {\n            setLoadingCount((count) => Math.max(0, count - 1));\n        }\n    }, [setLoadingCount]);\n    useEffect(() => {\n        (async () => {\n            const isAuthenticated = await memorizedLogtoClient.logtoClient.isAuthenticated();\n            setIsAuthenticated(isAuthenticated);\n            setLoadingCount((count) => Math.max(0, count - 1));\n        })();\n    }, [memorizedLogtoClient]);\n    const memorizedContextValue = useMemo(() => ({\n        ...memorizedLogtoClient,\n        isAuthenticated,\n        setIsAuthenticated,\n        isLoading,\n        setIsLoading,\n        error,\n        setError,\n    }), [memorizedLogtoClient, isAuthenticated, isLoading, setIsLoading, error]);\n    return jsx(LogtoContext.Provider, { value: memorizedContextValue, children: children });\n};\n\nexport { LogtoProvider };\n", "import { createContext } from 'react';\n\nconst throwContextError = () => {\n    throw new Error('Must be used inside <LogtoProvider> context.');\n};\n/**\n * The context for the LogtoProvider.\n *\n * @remarks\n * Instead of using this context directly, in most cases you should use the `useLogto` hook.\n */\nconst LogtoContext = createContext({\n    logtoClient: undefined,\n    isAuthenticated: false,\n    isLoading: false,\n    error: undefined,\n    setIsAuthenticated: throwContextError,\n    setIsLoading: throwContextError,\n    setError: throwContextError,\n});\n\nexport { LogtoContext, throwContextError };\n", "import { trySafe } from '@silverhand/essentials';\nimport { useContext, useRef, useEffect, useCallback, useMemo } from 'react';\nimport { LogtoContext, throwContextError } from '../context.js';\n\nconst useErrorHandler = () => {\n    const { setError } = useContext(LogtoContext);\n    const handleError = useCallback((error, fallbackErrorMessage) => {\n        if (error instanceof Error) {\n            setError(error);\n        }\n        else if (fallbackErrorMessage) {\n            setError(new Error(fallbackErrorMessage));\n        }\n        console.error(error);\n    }, [setError]);\n    return { handleError };\n};\nconst useHandleSignInCallback = (callback) => {\n    const { logtoClient, isAuthenticated, error, setIsAuthenticated, isLoading, setIsLoading } = useContext(LogtoContext);\n    const { handleError } = useErrorHandler();\n    const callbackRef = useRef();\n    useEffect(() => {\n        // eslint-disable-next-line @silverhand/fp/no-mutation\n        callbackRef.current = callback; // Update ref to the latest callback.\n    }, [callback]);\n    useEffect(() => {\n        if (!logtoClient || isLoading || error) {\n            return;\n        }\n        (async () => {\n            const currentPageUrl = window.location.href;\n            const isRedirected = await logtoClient.isSignInRedirected(currentPageUrl);\n            if (!isAuthenticated && isRedirected) {\n                setIsLoading(true);\n                await trySafe(async () => {\n                    await logtoClient.handleSignInCallback(currentPageUrl);\n                    setIsAuthenticated(true);\n                    callbackRef.current?.();\n                }, (error) => {\n                    handleError(error, 'Unexpected error occurred while handling sign in callback.');\n                });\n                setIsLoading(false);\n            }\n        })();\n    }, [\n        error,\n        handleError,\n        isAuthenticated,\n        isLoading,\n        logtoClient,\n        setIsAuthenticated,\n        setIsLoading,\n    ]);\n    return {\n        isLoading,\n        isAuthenticated,\n        error,\n    };\n};\nconst useLogto = () => {\n    const { logtoClient, isAuthenticated, error, isLoading, setIsLoading } = useContext(LogtoContext);\n    const { handleError } = useErrorHandler();\n    const client = logtoClient ?? throwContextError();\n    const proxy = useCallback((run, resetLoadingState = true) => {\n        return async (...args) => {\n            try {\n                setIsLoading(true);\n                return await run(...args);\n            }\n            catch (error) {\n                handleError(error, `Unexpected error occurred while calling ${run.name}.`);\n            }\n            finally {\n                if (resetLoadingState) {\n                    setIsLoading(false);\n                }\n            }\n        };\n    }, [setIsLoading, handleError]);\n    const methods = useMemo(() => ({\n        getRefreshToken: proxy(client.getRefreshToken.bind(client)),\n        getAccessToken: proxy(client.getAccessToken.bind(client)),\n        getAccessTokenClaims: proxy(client.getAccessTokenClaims.bind(client)),\n        getOrganizationToken: proxy(client.getOrganizationToken.bind(client)),\n        getOrganizationTokenClaims: proxy(client.getOrganizationTokenClaims.bind(client)),\n        getIdToken: proxy(client.getIdToken.bind(client)),\n        getIdTokenClaims: proxy(client.getIdTokenClaims.bind(client)),\n        // eslint-disable-next-line no-restricted-syntax -- TypeScript cannot infer the correct type.\n        signIn: proxy(client.signIn.bind(client), false),\n        // We deliberately do NOT set isAuthenticated to false in the function below, because the app state\n        // may change immediately even before navigating to the oidc end session endpoint, which might cause\n        // rendering problems.\n        // Moreover, since the location will be redirected, the isAuthenticated state will not matter any more.\n        signOut: proxy(client.signOut.bind(client)),\n        fetchUserInfo: proxy(client.fetchUserInfo.bind(client)),\n        clearAccessToken: proxy(client.clearAccessToken.bind(client)),\n        clearAllTokens: proxy(client.clearAllTokens.bind(client)),\n    }), [client, proxy]);\n    return {\n        isAuthenticated,\n        isLoading,\n        error,\n        ...methods,\n    };\n};\n\nexport { useHandleSignInCallback, useLogto };\n"],
  "mappings": "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",
  "names": ["preserveConsecutiveUppercase", "cache", "isObject", "preserveConsecutiveUppercase", "ReservedScope", "ReservedResource", "UserScope", "TokenGrantType", "QueryKey", "Prompt", "message", "idTokenClaims", "message", "_a", "message", "types", "_a", "isObject", "isObject", "cache", "isObject", "_a", "_b", "isObject", "isObject", "_a", "isObject", "jwk", "cache", "isObject", "_a", "base64url_exports", "decode", "encode", "encode", "decode", "PersistKey", "CacheKey", "_a", "once", "once", "_a", "message", "keyPrefix", "LogtoClient", "import_react", "LogtoClient", "isAuthenticated", "import_react", "_a", "error"]
}
